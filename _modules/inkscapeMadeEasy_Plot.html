

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>inkscapeMadeEasy_Plot &mdash; inkscapeMadeEasy 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> inkscapeMadeEasy
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Main Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mainFeatures.html">Optional LaTeX support via textext extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainFeatures.html#scientific-plotting-system">Scientific plotting system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainFeatures.html#control-over-text-styles-line-markers-and-other-drawing-features">Control over text styles, line markers and other drawing features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainFeatures.html#useful-backstage-functions">Useful backstage functions</a></li>
</ul>
<p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Inkscape Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html#requirements">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html#installation-procedure-v1-0-only">Installation procedure (v1.0 only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html#disabling-latex-support">Disabling LaTeX support</a></li>
</ul>
<p class="caption"><span class="caption-text">General gist and minimal example</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../minimalExample.html">General Gist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../minimalExample.html#minimal-example">Minimal example</a></li>
</ul>
<p class="caption"><span class="caption-text">Module Definitions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../moduleDefinitions.html">inkscapeMadeEasy_Base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../moduleDefinitions.html#inkscapemadeeasy-draw">inkscapeMadeEasy_Draw</a></li>
<li class="toctree-l1"><a class="reference internal" href="../moduleDefinitions.html#inkscapemadeeasy-plot">inkscapeMadeEasy_Plot</a></li>
</ul>
<p class="caption"><span class="caption-text">Changelog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html">Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">Index</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">classes and methods</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">inkscapeMadeEasy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Module code</a> &raquo;</li>
        
      <li>inkscapeMadeEasy_Plot</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for inkscapeMadeEasy_Plot</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/python</span>

<span class="c1"># --------------------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1">#    inkscapeMadeEasy: - Helper module that extends Aaron Spike&#39;s inkex.py module,</span>
<span class="c1">#                        focusing productivity in inkscape extension development</span>
<span class="c1">#</span>
<span class="c1">#    Copyright (C) 2016 by Fernando Moura</span>
<span class="c1">#</span>
<span class="c1">#    This program is free software: you can redistribute it and/or modify</span>
<span class="c1">#    it under the terms of the GNU General Public License as published by</span>
<span class="c1">#    the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1">#    (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1">#    This program is distributed in the hope that it will be useful,</span>
<span class="c1">#    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1">#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1">#    GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1">#    You should have received a copy of the GNU General Public License</span>
<span class="c1">#    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="c1">#</span>
<span class="c1"># --------------------------------------------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">import</span> <span class="nn">inkscapeMadeEasy.inkscapeMadeEasy_Draw</span> <span class="k">as</span> <span class="nn">inkDraw</span>


<div class="viewcode-block" id="displayMsg"><a class="viewcode-back" href="../moduleDefinitions.html#inkscapeMadeEasy_Plot.displayMsg">[docs]</a><span class="k">def</span> <span class="nf">displayMsg</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Display a message to the user.</span>

<span class="sd">    :param msg: message</span>
<span class="sd">    :type msg: string</span>

<span class="sd">    :returns: nothing</span>
<span class="sd">    :rtype: -</span>
<span class="sd">    </span>
<span class="sd">    .. note:: Identical function has been also defined inside :meth:`inkscapeMadeEasy_Base.inkscapeMadeEasy` class</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Dump"><a class="viewcode-back" href="../moduleDefinitions.html#inkscapeMadeEasy_Plot.Dump">[docs]</a><span class="k">def</span> <span class="nf">Dump</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="s1">&#39;./dump_file.txt&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Function to easily output the result of ``str(obj)`` to a file</span>

<span class="sd">    :param obj: python object to sent to a file. Any object can be used, as long as ``str(obj)`` is implemented (see ``__str__()`` metaclass definition of your object)</span>
<span class="sd">    :param file: file path. Default: ``./dump_file.txt``</span>
<span class="sd">    :param mode: writing mode of the file Default: ``w`` (write)</span>
<span class="sd">    :type obj: any</span>
<span class="sd">    :type file: string</span>
<span class="sd">    :type mode: string</span>
<span class="sd">    :returns:  nothing</span>
<span class="sd">    :rtype: -</span>

<span class="sd">    .. note:: Identical function has been also defined inside :meth:`inkscapeMadeEasy_Base.inkscapeMadeEasy` class</span>

<span class="sd">    This function was created to help debugging the code while it is running under inkscape. Since inkscape does not possess a terminal as today (2016),</span>
<span class="sd">    this function overcomes partially the issue of sending things to stdout by dumping result of the function ``str()`` in a text file.</span>

<span class="sd">    **Example**</span>

<span class="sd">    &gt;&gt;&gt; vector1=[1,2,3,4,5,6]</span>
<span class="sd">    &gt;&gt;&gt; inkPlot.Dump(vector1,file=&#39;~/temporary.txt&#39;,mode=&#39;w&#39;)   # writes the list to a file</span>
<span class="sd">    &gt;&gt;&gt; vector2=[7,8,9,10]</span>
<span class="sd">    &gt;&gt;&gt; inkPlot.Dump(vector2,file=&#39;~/temporary.txt&#39;,mode=&#39;a&#39;)   # append the list to a file</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">generateListOfTicksLinear</span><span class="p">(</span><span class="n">axisLimits</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">,</span> <span class="n">tickStep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Defines list of ticks in a linear plot</span>

<span class="sd">    .. note:: Internal function.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># make the list of ticks, symmetrically to the origin</span>
    <span class="n">listTicksPositive</span> <span class="o">=</span> <span class="p">[</span><span class="n">axisOrigin</span><span class="p">]</span>
    <span class="k">while</span> <span class="n">listTicksPositive</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">axisLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">listTicksPositive</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listTicksPositive</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">tickStep</span><span class="p">)</span>

    <span class="n">listTicksNegative</span> <span class="o">=</span> <span class="p">[</span><span class="n">axisOrigin</span><span class="p">]</span>

    <span class="k">while</span> <span class="n">listTicksNegative</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">axisLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">listTicksNegative</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listTicksNegative</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tickStep</span><span class="p">)</span>

    <span class="n">listTicks</span> <span class="o">=</span> <span class="n">listTicksPositive</span> <span class="o">+</span> <span class="n">listTicksNegative</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="k">return</span> <span class="n">listTicks</span>


<span class="k">def</span> <span class="nf">generateListOfTicksLog10</span><span class="p">(</span><span class="n">axisLimits</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Defines list of ticks in a log10 plot</span>

<span class="sd">    .. note:: Internal function.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># make the list of ticks, symmetrically to the origin</span>
    <span class="n">listTicks</span> <span class="o">=</span> <span class="p">[</span><span class="n">axisLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="k">while</span> <span class="n">listTicks</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">axisLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">listTicks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">listTicks</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">listTicks</span>


<span class="k">def</span> <span class="nf">findOrigin</span><span class="p">(</span><span class="n">axisLimits</span><span class="p">,</span> <span class="n">flagLog10</span><span class="p">,</span> <span class="n">scale</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; retrieves the position of the origin. In case of logarithmic scale, it will be axisLimits[0]</span>

<span class="sd">    .. note:: Internal function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">flagLog10</span><span class="p">:</span>
        <span class="n">axisOrigin</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">axisLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">axisLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mf">0.0</span> <span class="ow">and</span> <span class="n">axisLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="n">axisOrigin</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">axisLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">axisOrigin</span> <span class="o">=</span> <span class="n">axisLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">scale</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">axisOrigin</span> <span class="o">=</span> <span class="n">axisLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">scale</span>

    <span class="k">return</span> <span class="n">axisOrigin</span>


<span class="k">def</span> <span class="nf">getPositionAndText</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">flagLog10</span><span class="p">,</span> <span class="n">axisUnitFactor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;given a value, its scale, and some flags, finds it position in the diagram and the text to be shown</span>

<span class="sd">    .. note:: Internal function.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">flagLog10</span><span class="p">:</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">value</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="c1"># try to simplify number</span>
    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">-</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">valStr</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">valStr</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

    <span class="c1"># option to add extra factor to the axis ticks</span>
    <span class="k">if</span> <span class="n">flagLog10</span><span class="p">:</span>
        <span class="n">exponent</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">value</span><span class="p">)))</span>
        <span class="k">if</span> <span class="n">axisUnitFactor</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">useLatex</span><span class="p">:</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="s1">&#39;10^{&#39;</span> <span class="o">+</span> <span class="n">exponent</span> <span class="o">+</span> <span class="s1">&#39;}&#39;</span> <span class="o">+</span> <span class="n">axisUnitFactor</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="s1">&#39;10^&#39;</span> <span class="o">+</span> <span class="n">exponent</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="n">axisUnitFactor</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">useLatex</span><span class="p">:</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="s1">&#39;10^{&#39;</span> <span class="o">+</span> <span class="n">exponent</span> <span class="o">+</span> <span class="s1">&#39;}&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="s1">&#39;10^&#39;</span> <span class="o">+</span> <span class="n">exponent</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">axisUnitFactor</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">axisUnitFactor</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">axisUnitFactor</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">!=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">Text</span> <span class="o">=</span> <span class="n">valStr</span> <span class="o">+</span> <span class="n">axisUnitFactor</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Text</span> <span class="o">=</span> <span class="n">valStr</span>

    <span class="k">if</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">useLatex</span><span class="p">:</span>
        <span class="n">Text</span> <span class="o">=</span> <span class="s1">&#39;$&#39;</span> <span class="o">+</span> <span class="n">Text</span> <span class="o">+</span> <span class="s1">&#39;$&#39;</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="n">Text</span><span class="p">]</span>


<div class="viewcode-block" id="axis"><a class="viewcode-back" href="../moduleDefinitions.html#inkscapeMadeEasy_Plot.axis">[docs]</a><span class="k">class</span> <span class="nc">axis</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot; This class has member functions to create customizable plot axes.</span>
<span class="sd">    </span>
<span class="sd">    .. note:: This class contains only static methods so that your plugin class don&#39;t have to inherit it.</span>

<span class="sd">    .. note:: This class can use LaTeX to render text if LaTeX support is enabled. LaTeX support is an optional feature that requires a few extra packages to be installed outside inkscape. **It is enabled by default**.</span>
<span class="sd">            Please refer to :ref:`disableLatexSupport` on how to disable it. If disabled, this function will still work, internally calling the :meth:`inkscapeMadeEasy_Draw.text.write` to generate text.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="axis.cartesian"><a class="viewcode-back" href="../moduleDefinitions.html#inkscapeMadeEasy_Plot.axis.cartesian">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">cartesian</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">xLim</span><span class="p">,</span> <span class="n">yLim</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">xLabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">yLabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">xlog10scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ylog10scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">xTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">yTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">xTickStep</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">yTickStep</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">xScale</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">yScale</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">xAxisUnitFactor</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">yAxisUnitFactor</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">xGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">yGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                  <span class="n">forceTextSize</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">forceLineWidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">drawAxis</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ExtraLengthAxisX</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">ExtraLengthAxisY</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates the axes of a cartesian plot</span>

<span class="sd">        .. note:: This method uses LaTeX in labels and tick marks if LaTeX support is enabled. This is an optional feature, **enabled by default**. Please refer to :ref:`disableLatexSupport` on how to disable it.</span>
<span class="sd">    </span>
<span class="sd">        :param ExtensionBaseObj: Most of the times you have to pass &#39;self&#39; when calling from inside your plugin class. See example below</span>
<span class="sd">        :param parent: Parent object</span>
<span class="sd">        :param xLim: Limits of the X axis [x_min,x_max]. If the axis is in log10 scale, then the limits will be rounded to complete one decade.</span>
<span class="sd">        :param yLim: Limits of the Y axis [y_min,y_max]. If the axis is in log10 scale, then the limits will be rounded to complete one decade.</span>
<span class="sd">        :param position: Position of the plot. It is defined at the point where x and y axis cross [x0,y0]. The point where the axis cross depend on the limits.</span>

<span class="sd">              - If xLimits comprises the origin x=0, then the  Y axis crosses the X axis at x=0.</span>
<span class="sd">              - If xLimits contains only negative numbers, then the Y axis crosses the X axis at x_max.</span>
<span class="sd">              - If xLimits contains only positive numbers, then the Y axis crosses the X axis at x_min.</span>

<span class="sd">              - The same rule applies to y direction.</span>
<span class="sd">        :param xLabel: Label of the X axis. Default: &#39;&#39;</span>

<span class="sd">              The text can contain any LaTeX command. If you want to write mathematical text, you can enclose it between dollar signs $...$. If LaTeX support is disabled, do not use $.</span>

<span class="sd">        :param yLabel: Label of the Y axis. Default: &#39;&#39;</span>

<span class="sd">              The text can contain any LaTeX command. If you want to write mathematical text, you can enclose it between dollar signs $...$. If LaTeX support is disabled, do not use $.</span>

<span class="sd">        :param xlog10scale: Sets X axis to log10 scale if True. Default: False</span>
<span class="sd">        :param ylog10scale: Sets Y axis to log10 scale if True. Default: False</span>
<span class="sd">        :param xTicks: Adds axis ticks to the X axis if True. Default: True</span>
<span class="sd">        :param yTicks: Adds axis ticks to the Y axis if True. Default: True</span>
<span class="sd">        :param xTickStep: Value interval between two consecutive ticks on X axis. (Not used if X axis is in log10 scale). Default:1.0</span>
<span class="sd">        :param yTickStep: Value interval between two consecutive ticks on Y axis. (Not used if Y axis is in log10 scale). Default:1.0</span>
<span class="sd">        :param xScale: Distance between each xTickStep in svg units. Default: 20</span>

<span class="sd">               - If axis is linear, then xScale is the size in svg units of each tick</span>
<span class="sd">               - If axis is log10, the xScale is the size in svg units of one decade</span>

<span class="sd">        :param yScale: Distance between each yTickStep in svg units. Default: 20</span>

<span class="sd">               - If axis is linear, then yScale is the size in svg units of each tick</span>
<span class="sd">               - If axis is log10, the yScale is the size in svg units of one decade</span>

<span class="sd">        :param xAxisUnitFactor: Extra text to be added to the ticks in X axis. Default: &#39;&#39;</span>

<span class="sd">              This is useful when we want to represent interval with different units. example pi, 2pi 3pi, etc.</span>
<span class="sd">              The text can be any LaTeX text. Keep in mind that this text will be inserted within a mathematical environment $...$, therefore no $ is needed here.</span>
<span class="sd">        :param yAxisUnitFactor: Extra text to be added to the ticks in Y axis. Default: &#39;&#39;</span>

<span class="sd">              This is useful when we want to represent interval with different units. example pi, 2pi 3pi, etc.</span>
<span class="sd">              The text can be any LaTeX text. Keep in mind that this text will be inserted within a mathematical environment $...$, therefore no $ is needed here.</span>

<span class="sd">        :param xGrid: Adds grid lines to X axis if True. Default: False</span>
<span class="sd">        :param yGrid: Adds grid lines to Y axis if True. Default: False</span>
<span class="sd">        :param forceTextSize: Size of the text. If this parameter is 0.0 then the method will compute an appropriate size. Default: 0.0</span>
<span class="sd">        :param forceLineWidth: Width of the lines. If this parameter is 0.0 then the method will compute an appropriate size. Default: 0.0</span>

<span class="sd">        :param drawAxis: Control flag of the axis method</span>

<span class="sd">               - True: draws axis normally</span>
<span class="sd">               - False: returns the limits and origin position without drawing the axis itself</span>

<span class="sd">        :param ExtraLengthAxisX: Extra length near the arrow pointer of X axis. Default 0.0</span>
<span class="sd">        :param ExtraLengthAxisY: Extra length near the arrow pointer of Y axis. Default 0.0</span>

<span class="sd">        :type ExtensionBaseObj: inkscapeMadeEasy object</span>
<span class="sd">        :type parent: inkscape element object</span>
<span class="sd">        :type xLim: list</span>
<span class="sd">        :type yLim: list</span>
<span class="sd">        :type position: list</span>
<span class="sd">        :type xLabel: string</span>
<span class="sd">        :type yLabel: string</span>
<span class="sd">        :type xlog10scale: bool</span>
<span class="sd">        :type ylog10scale: bool</span>
<span class="sd">        :type xTicks: bool</span>
<span class="sd">        :type yTicks: bool</span>
<span class="sd">        :type xTickStep: float</span>
<span class="sd">        :type yTickStep: float</span>
<span class="sd">        :type xScale: float</span>
<span class="sd">        :type yScale: float</span>
<span class="sd">        :type xAxisUnitFactor: string</span>
<span class="sd">        :type yAxisUnitFactor: string</span>
<span class="sd">        :type xGrid: bool</span>
<span class="sd">        :type yGrid: bool</span>
<span class="sd">        :type forceTextSize: float</span>
<span class="sd">        :type forceLineWidth: float</span>
<span class="sd">        :type drawAxis: bool</span>
<span class="sd">        :type ExtraLengthAxisX: float</span>
<span class="sd">        :type ExtraLengthAxisY: float</span>

<span class="sd">        :returns: [GroupPlot, outputLimits, axisOrigin]</span>

<span class="sd">            - GroupPlot:  the axis area object (if drawAxis=False, this output is ``None``)</span>
<span class="sd">            - outputLimits: a list with tuples:[(x_min,xPos_min),(x_max,xPos_max),(y_min,yPos_min),(y_max,yPos_max)]</span>

<span class="sd">                  - x_min, x_max, y_min, y_max:               The limits of the axis object</span>
<span class="sd">                  - xPos_min, xPos_max, yPos_min, yPos_max:   The positions of the limits of the axis object, considering the scaling and units</span>
<span class="sd">            - axisOrigin [X0,Y0]:                      A list with the coordinates of the point where the axes cross.</span>
<span class="sd">        :rtype: list</span>

<span class="sd">        **Examples**</span>

<span class="sd">        &gt;&gt;&gt; root_layer = self.document.getroot()     # retrieves the root layer of the document</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; inkPlot.axis.cartesian(ExtensionBaseObj, parent=root_layer, xLim=[0,3], yLim=[0,2], position=[0, 0],</span>
<span class="sd">        &gt;&gt;&gt;                        xLabel=&#39;my label $x$&#39;, yLabel=&#39;my label $y$&#39;, xlog10scale=False, ylog10scale=False,</span>
<span class="sd">        &gt;&gt;&gt;                        xTicks=True, yTicks=True, xTickStep=0.5, yTickStep=1.0, xScale=50, yScale=60,</span>
<span class="sd">        &gt;&gt;&gt;                        xAxisUnitFactor=&#39;&#39;, yAxisUnitFactor=&#39;&#39;, xGrid=True, yGrid=True, forceTextSize=0, forceLineWidth=0,</span>
<span class="sd">        &gt;&gt;&gt;                        drawAxis=True, ExtraLengthAxisX=20.0, ExtraLengthAxisY=10.0)</span>

<span class="sd">        The images below show the cartesian plane of the example above, together with other variations.</span>

<span class="sd">        .. image:: ../imagesDocs/plot_axisCartesianParameters_01.png</span>
<span class="sd">          :width: 800px</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">drawAxis</span><span class="p">:</span>
            <span class="n">GroupPlot</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;Plot&#39;</span><span class="p">)</span>

        <span class="c1"># sets the scale  scaleX and scaleY stores the size of one unit in both axis (linear axis) or the size of a decade in log plots</span>
        <span class="k">if</span> <span class="n">xlog10scale</span><span class="p">:</span>
            <span class="n">scaleX</span> <span class="o">=</span> <span class="n">xScale</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">scaleX</span> <span class="o">=</span> <span class="n">xScale</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">xTickStep</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">ylog10scale</span><span class="p">:</span>
            <span class="n">scaleY</span> <span class="o">=</span> <span class="o">-</span><span class="n">yScale</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">scaleY</span> <span class="o">=</span> <span class="o">-</span><span class="n">yScale</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">yTickStep</span><span class="p">)</span>  <span class="c1"># negative bc inkscape is upside down</span>

        <span class="c1"># font size and other text parameters</span>
        <span class="k">if</span> <span class="n">forceTextSize</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">textSize</span> <span class="o">=</span> <span class="mf">0.25</span> <span class="o">*</span> <span class="nb">min</span><span class="p">(</span><span class="n">xScale</span><span class="p">,</span> <span class="n">yScale</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">textSize</span> <span class="o">=</span> <span class="n">forceTextSize</span>

        <span class="n">textSizeSmall</span> <span class="o">=</span> <span class="mf">0.8</span> <span class="o">*</span> <span class="n">textSize</span>  <span class="c1"># font size for axis ticks</span>

        <span class="n">text_offset</span> <span class="o">=</span> <span class="n">textSize</span>  <span class="c1"># base space for text positioning</span>
        <span class="n">ExtraSpaceArrowX</span> <span class="o">=</span> <span class="p">(</span><span class="mf">2.0</span> <span class="o">+</span> <span class="n">ExtraLengthAxisX</span><span class="p">)</span> <span class="o">*</span> <span class="n">text_offset</span>  <span class="c1"># extra space for drawing arrow on axis</span>
        <span class="n">ExtraSpaceArrowY</span> <span class="o">=</span> <span class="p">(</span><span class="mf">3.0</span> <span class="o">+</span> <span class="n">ExtraLengthAxisY</span><span class="p">)</span> <span class="o">*</span> <span class="n">text_offset</span>  <span class="c1"># extra space for drawing arrow on axis</span>
        <span class="n">lenghtTicks</span> <span class="o">=</span> <span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span>  <span class="c1"># length of the ticks</span>

        <span class="c1"># create styles</span>
        <span class="k">if</span> <span class="n">forceLineWidth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">lineWidth</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">xScale</span><span class="p">,</span> <span class="n">yScale</span><span class="p">)</span> <span class="o">/</span> <span class="mf">35.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lineWidth</span> <span class="o">=</span> <span class="n">forceLineWidth</span>

        <span class="n">lineWidthGrid</span> <span class="o">=</span> <span class="mf">0.7</span> <span class="o">*</span> <span class="n">lineWidth</span>
        <span class="n">lineWidthGridFine</span> <span class="o">=</span> <span class="n">lineWidthGrid</span> <span class="o">/</span> <span class="mf">2.0</span>

        <span class="n">nameMarkerArrowAxis</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">marker</span><span class="o">.</span><span class="n">createArrow1Marker</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;ArrowAxis&#39;</span><span class="p">,</span> <span class="n">RenameMode</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
        <span class="n">lineStyleAxis</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">lineWidth</span><span class="p">,</span> <span class="n">lineColor</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">gray</span><span class="p">(</span><span class="mf">0.3</span><span class="p">),</span> <span class="n">markerEnd</span><span class="o">=</span><span class="n">nameMarkerArrowAxis</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">lineStyleTicks</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">lineWidth</span><span class="p">,</span> <span class="n">lineColor</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">gray</span><span class="p">(</span><span class="mf">0.3</span><span class="p">))</span>
        <span class="n">lineStyleGrid</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">lineWidthGrid</span><span class="p">,</span> <span class="n">lineColor</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">gray</span><span class="p">(</span><span class="mf">0.7</span><span class="p">))</span>
        <span class="n">lineStyleGridFine</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">lineWidthGridFine</span><span class="p">,</span> <span class="n">lineColor</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">gray</span><span class="p">(</span><span class="mf">0.7</span><span class="p">))</span>

        <span class="n">textStyleLarge</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">textStyle</span><span class="o">.</span><span class="n">setSimpleBlack</span><span class="p">(</span><span class="n">textSize</span><span class="p">)</span>
        <span class="n">textStyleSmall</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">textStyle</span><span class="o">.</span><span class="n">setSimpleBlack</span><span class="p">(</span><span class="n">textSizeSmall</span><span class="p">,</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span>

        <span class="c1"># check if limits are valid</span>
        <span class="k">if</span> <span class="n">xLim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">xLim</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Error: xLim is invalid.&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">yLim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">yLim</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Error: yLim is invalid.&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="c1"># check if the limits are valid for logarithmic scales.</span>
        <span class="k">if</span> <span class="n">xlog10scale</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">xLim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">xLim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Error: xLim is invalid in logarithmic scale&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">xmin</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">xLim</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                <span class="n">xmax</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">xLim</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">xLimits</span> <span class="o">=</span> <span class="p">[</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">xLimits</span> <span class="o">=</span> <span class="n">xLim</span>

        <span class="k">if</span> <span class="n">ylog10scale</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">yLim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">yLim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Error: yLim is invalid in logarithmic scale&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ymin</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">yLim</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                <span class="n">ymax</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">yLim</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">yLimits</span> <span class="o">=</span> <span class="p">[</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">yLimits</span> <span class="o">=</span> <span class="n">yLim</span>

        <span class="c1"># finds the position of the Origin of axis</span>
        <span class="n">axisOrigin</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>

        <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">findOrigin</span><span class="p">(</span><span class="n">xLimits</span><span class="p">,</span> <span class="n">xlog10scale</span><span class="p">,</span> <span class="n">scaleX</span><span class="p">)</span>
        <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">findOrigin</span><span class="p">(</span><span class="n">yLimits</span><span class="p">,</span> <span class="n">ylog10scale</span><span class="p">,</span> <span class="n">scaleY</span><span class="p">)</span>

        <span class="c1"># computes the positions of the limits on svg, considering the scale</span>

        <span class="k">if</span> <span class="n">xlog10scale</span><span class="p">:</span>  <span class="c1"># convert limits to position in diagram, including scaling factor</span>
            <span class="n">xLimitsPos</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xLimits</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">xLimitsPos</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xLimits</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">ylog10scale</span><span class="p">:</span>  <span class="c1"># convert limits to position in diagram, including scaling factor</span>
            <span class="n">yLimitsPos</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yLimits</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">yLimitsPos</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yLimits</span><span class="p">]</span>

        <span class="c1"># build the list of tuples with the limits of the plotting area</span>
        <span class="n">outputLimits</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="n">xLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">xLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">yLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">yLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
                           <span class="p">[</span><span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                            <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]]))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">drawAxis</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">outputLimits</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">]</span>

        <span class="c1"># axis ticks</span>
        <span class="n">groupTicks</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">GroupPlot</span><span class="p">,</span> <span class="s1">&#39;Ticks&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">xTicks</span> <span class="ow">or</span> <span class="n">xGrid</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">xlog10scale</span><span class="p">:</span>
                <span class="n">listTicks</span> <span class="o">=</span> <span class="n">generateListOfTicksLog10</span><span class="p">(</span><span class="n">xLimits</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">listTicks</span> <span class="o">=</span> <span class="n">generateListOfTicksLinear</span><span class="p">(</span><span class="n">xLimits</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">scaleX</span><span class="p">,</span> <span class="n">xTickStep</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">listTicks</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">xLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">xLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>

                    <span class="c1"># get position, considering the scale and its text</span>
                    <span class="p">[</span><span class="n">posX</span><span class="p">,</span> <span class="n">xText</span><span class="p">]</span> <span class="o">=</span> <span class="n">getPositionAndText</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">scaleX</span><span class="p">,</span> <span class="n">xlog10scale</span><span class="p">,</span> <span class="n">xAxisUnitFactor</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">xGrid</span> <span class="ow">and</span> <span class="n">posX</span> <span class="o">!=</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>  <span class="c1"># grid lines. Do not draw if grid line is over the axis</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[[</span><span class="n">posX</span><span class="p">,</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="p">[</span><span class="n">posX</span><span class="p">,</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleGrid</span><span class="p">)</span>

                    <span class="c1"># intermediate grid lines in case of logarithmic scale</span>
                    <span class="k">if</span> <span class="n">xGrid</span> <span class="ow">and</span> <span class="n">xlog10scale</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">xLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
                            <span class="n">aditionalStep</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">scaleX</span>
                            <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[[</span><span class="n">posX</span> <span class="o">+</span> <span class="n">aditionalStep</span><span class="p">,</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="p">[</span><span class="n">posX</span> <span class="o">+</span> <span class="n">aditionalStep</span><span class="p">,</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                                                   <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleGridFine</span><span class="p">)</span>

                    <span class="c1"># tick</span>
                    <span class="k">if</span> <span class="n">xTicks</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">posX</span> <span class="o">!=</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>  <span class="c1"># don&#39;t draw if in the origin</span>
                            <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">relCoords</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="n">lenghtTicks</span><span class="p">]],</span> <span class="p">[</span><span class="n">posX</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lenghtTicks</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">],</span>
                                                   <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleTicks</span><span class="p">)</span>

                    <span class="c1"># sets justification</span>
                    <span class="c1"># inkDraw.text.write(ExtensionBaseObj,&#39;orig=&#39;+str(axisOrigin),[axisOrigin[0]+10,axisOrigin[1]-30],groupTicks,fontSize=7)</span>
                    <span class="c1"># inkDraw.text.write(ExtensionBaseObj,&#39;xlim=&#39;+str(xLimitsPos),[axisOrigin[0]+10,axisOrigin[1]-20],groupTicks,fontSize=7)</span>
                    <span class="c1"># inkDraw.text.write(ExtensionBaseObj,&#39;ylim=&#39;+str(yLimitsPos),[axisOrigin[0]+10,axisOrigin[1]-10],groupTicks,fontSize=7)</span>

                    <span class="k">if</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                        <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;tc&#39;</span>
                        <span class="n">offsetX</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="n">offsetY</span> <span class="o">=</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mf">2.0</span>  <span class="c1"># inkDraw.circle.centerRadius(groupTicks, axisOrigin, 10, [0,0])</span>

                    <span class="k">if</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;tr&#39;</span>
                        <span class="n">offsetX</span> <span class="o">=</span> <span class="o">-</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>
                        <span class="n">offsetY</span> <span class="o">=</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mf">2.0</span>
                        <span class="c1"># inkDraw.circle.centerRadius(groupTicks, axisOrigin, 10, [0,0])</span>
                        <span class="c1"># inkDraw.text.write(ExtensionBaseObj,str(axisOrigin[1]),[axisOrigin[0]+10,axisOrigin[1]+10],groupTicks,fontSize=7)</span>
                        <span class="c1"># inkDraw.text.write(ExtensionBaseObj,str(yLimitsPos[0]),[axisOrigin[0]+10,axisOrigin[1]+20],groupTicks,fontSize=7)</span>
                        <span class="k">if</span> <span class="n">posX</span> <span class="o">==</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="n">posX</span> <span class="o">==</span> <span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                                <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;tr&#39;</span>
                                <span class="n">offsetX</span> <span class="o">=</span> <span class="o">-</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;tl&#39;</span>
                                <span class="n">offsetX</span> <span class="o">=</span> <span class="o">+</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>

                    <span class="k">if</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;bc&#39;</span>
                        <span class="n">offsetX</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="n">offsetY</span> <span class="o">=</span> <span class="o">-</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">2.0</span>
                        <span class="c1"># inkDraw.circle.centerRadius(groupTicks,axisOrigin, 10, [0,0])</span>
                        <span class="k">if</span> <span class="n">posX</span> <span class="o">==</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="n">posX</span> <span class="o">==</span> <span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                                <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;br&#39;</span>
                                <span class="n">offsetX</span> <span class="o">=</span> <span class="o">-</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;bl&#39;</span>
                                <span class="n">offsetX</span> <span class="o">=</span> <span class="o">+</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>

                    <span class="c1"># value</span>
                    <span class="k">if</span> <span class="n">xTicks</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">groupTicks</span><span class="p">,</span> <span class="n">xText</span><span class="p">,</span> <span class="p">[</span><span class="n">posX</span> <span class="o">+</span> <span class="n">offsetX</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">offsetY</span><span class="p">],</span> <span class="n">textSizeSmall</span><span class="p">,</span>
                                           <span class="n">refPoint</span><span class="o">=</span><span class="n">justif</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">yTicks</span> <span class="ow">or</span> <span class="n">yGrid</span><span class="p">:</span>
            <span class="c1"># approximate limits to multiples of 10</span>
            <span class="k">if</span> <span class="n">ylog10scale</span><span class="p">:</span>
                <span class="n">listTicks</span> <span class="o">=</span> <span class="n">generateListOfTicksLog10</span><span class="p">(</span><span class="n">yLimits</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">listTicks</span> <span class="o">=</span> <span class="n">generateListOfTicksLinear</span><span class="p">(</span><span class="n">yLimits</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">scaleY</span><span class="p">,</span> <span class="n">yTickStep</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">listTicks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">yLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="n">yLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>

                    <span class="c1"># get position, considering the scale and its text</span>
                    <span class="p">[</span><span class="n">posY</span><span class="p">,</span> <span class="n">yText</span><span class="p">]</span> <span class="o">=</span> <span class="n">getPositionAndText</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="nb">abs</span><span class="p">(</span><span class="n">scaleY</span><span class="p">),</span> <span class="n">ylog10scale</span><span class="p">,</span> <span class="n">yAxisUnitFactor</span><span class="p">)</span>
                    <span class="n">posY</span> <span class="o">=</span> <span class="o">-</span><span class="n">posY</span>

                    <span class="k">if</span> <span class="n">yGrid</span> <span class="ow">and</span> <span class="n">posY</span> <span class="o">!=</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>  <span class="c1"># grid lines. Do not draw if grid line is over the axis</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[[</span><span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">posY</span><span class="p">],</span> <span class="p">[</span><span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">posY</span><span class="p">]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleGrid</span><span class="p">)</span>

                    <span class="c1"># intermediate grid lines in case of logarithmic scale</span>
                    <span class="k">if</span> <span class="n">yGrid</span> <span class="ow">and</span> <span class="n">ylog10scale</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">yLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
                            <span class="n">aditionalStep</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">scaleY</span>
                            <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[[</span><span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">posY</span> <span class="o">+</span> <span class="n">aditionalStep</span><span class="p">],</span> <span class="p">[</span><span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">posY</span> <span class="o">+</span> <span class="n">aditionalStep</span><span class="p">]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                                                   <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleGridFine</span><span class="p">)</span>

                    <span class="c1"># tick</span>
                    <span class="k">if</span> <span class="n">yTicks</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">posY</span> <span class="o">!=</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>  <span class="c1"># don&#39;t draw if in the origin</span>
                            <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">relCoords</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[[</span><span class="n">lenghtTicks</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="p">[</span><span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">lenghtTicks</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">posY</span><span class="p">],</span>
                                                   <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleTicks</span><span class="p">)</span>

                    <span class="c1"># sets justification</span>
                    <span class="c1"># inkDraw.text.write(ExtensionBaseObj,&#39;orig=&#39;+str(axisOrigin),[axisOrigin[0]+10,axisOrigin[1]-30],groupTicks,fontSize=7)</span>
                    <span class="c1"># inkDraw.text.write(ExtensionBaseObj,&#39;xlim=&#39;+str(xLimitsPos),[axisOrigin[0]+10,axisOrigin[1]-20],groupTicks,fontSize=7)</span>
                    <span class="c1"># inkDraw.text.write(ExtensionBaseObj,&#39;ylim=&#39;+str(yLimitsPos),[axisOrigin[0]+10,axisOrigin[1]-10],groupTicks,fontSize=7)</span>

                    <span class="k">if</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                        <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;cr&#39;</span>
                        <span class="n">offsetX</span> <span class="o">=</span> <span class="o">-</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">2.0</span>
                        <span class="n">offsetY</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># inkDraw.circle.centerRadius(groupTicks,axisOrigin, 10, [0,0],&#39;trash&#39;)</span>

                    <span class="k">if</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;tr&#39;</span>
                        <span class="n">offsetX</span> <span class="o">=</span> <span class="o">-</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">2.0</span>
                        <span class="n">offsetY</span> <span class="o">=</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>
                        <span class="c1"># inkDraw.circle.centerRadius(groupTicks,axisOrigin, 10, [0,0])</span>
                        <span class="c1"># inkDraw.text.write(ExtensionBaseObj,str(axisOrigin[0]),[axisOrigin[0]+10,axisOrigin[1]+10],groupTicks,fontSize=7)</span>
                        <span class="c1"># inkDraw.text.write(ExtensionBaseObj,str(yLimitsPos[0]*scaleX),[axisOrigin[0]+10,axisOrigin[1]+20],groupTicks,fontSize=7)</span>
                        <span class="k">if</span> <span class="n">posY</span> <span class="o">==</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="n">posY</span> <span class="o">==</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                                <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;tr&#39;</span>
                                <span class="n">offsetY</span> <span class="o">=</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;br&#39;</span>
                                <span class="n">offsetY</span> <span class="o">=</span> <span class="o">-</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>

                    <span class="k">if</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;cl&#39;</span>
                        <span class="n">offsetX</span> <span class="o">=</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mf">2.0</span>
                        <span class="n">offsetY</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="c1"># inkDraw.circle.centerRadius(groupTicks,axisOrigin, 10, [0,0])</span>
                        <span class="k">if</span> <span class="n">posY</span> <span class="o">==</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="n">posY</span> <span class="o">==</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                                <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;tl&#39;</span>
                                <span class="n">offsetY</span> <span class="o">=</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;bl&#39;</span>
                                <span class="n">offsetY</span> <span class="o">=</span> <span class="o">-</span><span class="n">text_offset</span> <span class="o">/</span> <span class="mf">4.0</span>

                    <span class="c1"># value</span>
                    <span class="k">if</span> <span class="n">yTicks</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">groupTicks</span><span class="p">,</span> <span class="n">yText</span><span class="p">,</span> <span class="p">[</span><span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">offsetX</span><span class="p">,</span> <span class="p">(</span><span class="n">posY</span> <span class="o">+</span> <span class="n">offsetY</span><span class="p">)],</span> <span class="n">textSizeSmall</span><span class="p">,</span>
                                           <span class="n">refPoint</span><span class="o">=</span><span class="n">justif</span><span class="p">)</span>

        <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">moveElement</span><span class="p">(</span><span class="n">GroupPlot</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>

        <span class="c1"># draw axis in the end so it stays on top of other objects</span>
        <span class="n">GroupAxis</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">GroupPlot</span><span class="p">,</span> <span class="s1">&#39;Axis&#39;</span><span class="p">)</span>

        <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">GroupAxis</span><span class="p">,</span> <span class="p">[[</span><span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">ExtraSpaceArrowX</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="s1">&#39;Xaxis&#39;</span><span class="p">,</span>
                               <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleAxis</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xLabel</span><span class="p">:</span>  <span class="c1"># axis labels</span>
            <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">GroupAxis</span><span class="p">,</span> <span class="n">xLabel</span><span class="p">,</span>
                               <span class="p">[</span><span class="n">xLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">ExtraSpaceArrowX</span> <span class="o">-</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">textSize</span><span class="p">,</span> <span class="n">refPoint</span><span class="o">=</span><span class="s1">&#39;tl&#39;</span><span class="p">)</span>

        <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">GroupAxis</span><span class="p">,</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ExtraSpaceArrowY</span><span class="p">]],</span> <span class="p">[</span><span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;Yaxis&#39;</span><span class="p">,</span>
                               <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleAxis</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">yLabel</span><span class="p">:</span>  <span class="c1"># axis labels</span>
            <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">GroupAxis</span><span class="p">,</span> <span class="n">yLabel</span><span class="p">,</span> <span class="p">[</span><span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span> <span class="p">(</span><span class="n">yLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ExtraSpaceArrowY</span><span class="p">)],</span> <span class="n">textSize</span><span class="p">,</span>
                               <span class="n">refPoint</span><span class="o">=</span><span class="s1">&#39;tl&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">GroupPlot</span><span class="p">,</span> <span class="n">outputLimits</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">]</span></div>

<div class="viewcode-block" id="axis.polar"><a class="viewcode-back" href="../moduleDefinitions.html#inkscapeMadeEasy_Plot.axis.polar">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">polar</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">rLim</span><span class="p">,</span> <span class="n">tLim</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">360.0</span><span class="p">],</span> <span class="n">position</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="n">rLabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rlog10scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">rTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
              <span class="n">rTickStep</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">tTickStep</span><span class="o">=</span><span class="mf">45.0</span><span class="p">,</span> <span class="n">rScale</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">rAxisUnitFactor</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">forceTextSize</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">forceLineWidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
              <span class="n">drawAxis</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ExtraLengthAxisR</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates the axes of a polar plot</span>

<span class="sd">        .. note:: This method uses LaTeX in labels and tick marks if LaTeX support is enabled. This is an optional feature, **enabled by default**.</span>
<span class="sd">            Please refer to :ref:`disableLatexSupport` on how to disable it.</span>
<span class="sd">        </span>
<span class="sd">        :param ExtensionBaseObj: Most of the times you have to pass &#39;self&#39; when calling from inside your plugin class. See example below</span>
<span class="sd">        :param parent: Parent object</span>
<span class="sd">        :param rLim: Limits of the R axis [r_min,r_max]. If the axis is in log10 scale, then the limits will be rounded to complete one decade.</span>
<span class="sd">        :param tLim: Limits of the theta axis [t_min,t_max]. Values in degrees. Default: [0,360]</span>
<span class="sd">        :param position: Position of the center [x0,y0].</span>

<span class="sd">        :param rLabel: Label of the R axis. Default: &#39;&#39;</span>

<span class="sd">              The text can contain any LaTeX command. If you want to write mathematical text, you can enclose it between dollar signs $...$. If LaTeX support is disabled, do not use $.</span>

<span class="sd">        :param rlog10scale: Sets R axis to log10 scale if True. Default: False</span>

<span class="sd">            - If rlog10scale=True, then the lower limit of rLim must be &gt;=1</span>

<span class="sd">        :param rTicks: Adds axis ticks to the R axis if True. Default: True</span>
<span class="sd">        :param tTicks: Adds axis ticks to the theta axis if True. Default: True</span>
<span class="sd">        :param rTickStep: Value interval between two consecutive ticks on R axis. (Not used if R axis is in log10 scale). Default:1.0</span>
<span class="sd">        :param tTickStep: Value interval between two consecutive ticks on theta axis. Default:45.0</span>
<span class="sd">        :param rScale:  Distance between each rTickStep in svg units. Default: 20</span>

<span class="sd">               - If axis is linear, then rScale is the size in svg units of each tick</span>
<span class="sd">               - If axis is log10, the rScale is the size in svg units of one decade</span>

<span class="sd">        :param rAxisUnitFactor: Extra text to be added to the ticks in R axis. Default: &#39;&#39;</span>

<span class="sd">              This is useful when we want to represent interval with different units. example pi, 2pi 3pi, etc.</span>
<span class="sd">              The text can be any LaTeX text. Keep in mind that this text will be inserted within a mathematical environment $...$, therefore no $ is needed here.</span>

<span class="sd">        :param rGrid: Adds grid lines to R axis if true. Default: False</span>
<span class="sd">        :param tGrid: Adds grid lines to theta axis if true. Default: False</span>
<span class="sd">        :param forceTextSize: Size of the text. If this parameter is 0.0 then the method will compute an appropriate size. Default: 0.0</span>
<span class="sd">        :param forceLineWidth: Width of the lines. If this parameter is 0.0 then the method will compute an appropriate size. Default: 0.0</span>

<span class="sd">        :param drawAxis: Control flag of the axis method</span>

<span class="sd">               - True: draws axis normally</span>
<span class="sd">               - False: returns the limits and origin position without drawing the axis itself</span>

<span class="sd">        :param ExtraLengthAxisR: Extra length between the R axis and its label. Default 0.0</span>

<span class="sd">        :type ExtensionBaseObj: inkscapeMadeEasy object</span>
<span class="sd">        :type parent: inkscape element object</span>
<span class="sd">        :type rLim: list</span>
<span class="sd">        :type tLim: list</span>
<span class="sd">        :type position: list</span>
<span class="sd">        :type rLabel: string</span>
<span class="sd">        :type rlog10scale: bool</span>
<span class="sd">        :type rTicks: bool</span>
<span class="sd">        :type tTicks: bool</span>
<span class="sd">        :type rTickStep: float</span>
<span class="sd">        :type tTickStep: float</span>
<span class="sd">        :type rScale: float</span>
<span class="sd">        :type rAxisUnitFactor: string</span>
<span class="sd">        :type rGrid: bool</span>
<span class="sd">        :type tGrid: bool</span>
<span class="sd">        :type forceTextSize: float</span>
<span class="sd">        :type forceLineWidth: float</span>
<span class="sd">        :type drawAxis: bool</span>
<span class="sd">        :type ExtraLengthAxisR: float</span>

<span class="sd">        :returns: [GroupPlot, outputRLimits, axisOrigin]</span>

<span class="sd">            - GroupPlot:  the axis area object (if drawAxis=False, this output is ``None``)</span>
<span class="sd">            - outputRLimits: a list with tuples:[(r_min,rPos_min),(r_max,rPos_max)]</span>

<span class="sd">                  - r_min, r_max       :   The limits of the axis object</span>
<span class="sd">                  - rPos_min, rPos_max :   The positions of the limits of the axis object, considering the scaling and units</span>
<span class="sd">            - axisOrigin [X0,Y0] :   A list with the coordinates of the point where the axes cross.</span>
<span class="sd">        :rtype: list</span>

<span class="sd">        **Examples**</span>

<span class="sd">        &gt;&gt;&gt; root_layer = self.document.getroot()     # retrieves the root layer of the document</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; inkPlot.axis.cartesian(self, parent=root_layer, rLim=[0, 3], tLim=[0, 150], position=[0.0, 0.0], rLabel=&#39;my radius&#39;,</span>
<span class="sd">        &gt;&gt;&gt;                        rlog10scale=False, rTicks=True, tTicks=True, rTickStep=1.0, tTickStep=30.0, rScale=50,</span>
<span class="sd">        &gt;&gt;&gt;                        rAxisUnitFactor=&#39;&#39;, rGrid=True, tGrid=True, forceTextSize=0, forceLineWidth=0,</span>
<span class="sd">        &gt;&gt;&gt;                        drawAxis=True, ExtraLengthAxisR=10.0)</span>

<span class="sd">        The images below show the cartesian plane of the example above, together with other variations.</span>

<span class="sd">        .. image:: ../imagesDocs/plot_axisPolarParameters_01.png</span>
<span class="sd">          :width: 800px</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">drawAxis</span><span class="p">:</span>
            <span class="n">GroupPlot</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;Plot&#39;</span><span class="p">)</span>

        <span class="c1"># sets the scale  scaleX and scaleY stores the size of one unit in both axis (linear axis) or the size of a decade in log plots</span>
        <span class="k">if</span> <span class="n">rlog10scale</span><span class="p">:</span>
            <span class="n">scaleR</span> <span class="o">=</span> <span class="n">rScale</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">scaleR</span> <span class="o">=</span> <span class="n">rScale</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">rTickStep</span><span class="p">)</span>

        <span class="c1"># font size and other text parameters</span>
        <span class="k">if</span> <span class="n">forceTextSize</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">textSize</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">rScale</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">textSize</span> <span class="o">=</span> <span class="n">forceTextSize</span>

        <span class="n">textSizeSmall</span> <span class="o">=</span> <span class="mf">0.8</span> <span class="o">*</span> <span class="n">textSize</span>  <span class="c1"># font size for axis ticks</span>

        <span class="n">text_offset</span> <span class="o">=</span> <span class="n">textSize</span>  <span class="c1"># base space for text positioning</span>
        <span class="n">ExtraSpaceArrowR</span> <span class="o">=</span> <span class="p">(</span><span class="mf">2.0</span> <span class="o">+</span> <span class="n">ExtraLengthAxisR</span><span class="p">)</span> <span class="o">*</span> <span class="n">text_offset</span>  <span class="c1"># extra space for drawing arrow on axis</span>
        <span class="n">lenghtTicks</span> <span class="o">=</span> <span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span>  <span class="c1"># length of the ticks</span>

        <span class="c1"># create styles</span>
        <span class="k">if</span> <span class="n">forceLineWidth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">lineWidth</span> <span class="o">=</span> <span class="n">rScale</span> <span class="o">/</span> <span class="mf">30.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lineWidth</span> <span class="o">=</span> <span class="n">forceLineWidth</span>

        <span class="n">lineWidthGrid</span> <span class="o">=</span> <span class="mf">0.7</span> <span class="o">*</span> <span class="n">lineWidth</span>
        <span class="n">lineWidthGridFine</span> <span class="o">=</span> <span class="n">lineWidthGrid</span> <span class="o">/</span> <span class="mf">2.0</span>

        <span class="c1"># nameTickerArrowAxis = inkDraw.marker.createArrow1Marker(ExtensionBaseObj, &#39;ArrowAxis&#39;, RenameMode=1, scale=0.4)</span>
        <span class="n">lineStyleAxis</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">lineWidth</span><span class="p">,</span> <span class="n">lineColor</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">gray</span><span class="p">(</span><span class="mf">0.3</span><span class="p">))</span>
        <span class="n">lineStyleTicks</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">lineWidth</span><span class="p">,</span> <span class="n">lineColor</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">gray</span><span class="p">(</span><span class="mf">0.3</span><span class="p">))</span>
        <span class="n">lineStyleGrid</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">lineWidthGrid</span><span class="p">,</span> <span class="n">lineColor</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">gray</span><span class="p">(</span><span class="mf">0.7</span><span class="p">))</span>
        <span class="n">lineStyleGridFine</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">lineWidthGridFine</span><span class="p">,</span> <span class="n">lineColor</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">gray</span><span class="p">(</span><span class="mf">0.7</span><span class="p">))</span>

        <span class="n">textStyleLarge</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">textStyle</span><span class="o">.</span><span class="n">setSimpleBlack</span><span class="p">(</span><span class="n">textSize</span><span class="p">)</span>
        <span class="n">textStyleSmall</span> <span class="o">=</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">textStyle</span><span class="o">.</span><span class="n">setSimpleBlack</span><span class="p">(</span><span class="n">textSizeSmall</span><span class="p">,</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span>

        <span class="c1"># check if limits are valid</span>
        <span class="k">if</span> <span class="n">rLim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">rLim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">rLim</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Error: rLim is invalid&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">tLim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">tLim</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Error: tLim is invalid&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="c1"># check if the limits are valid for logarithmic scales.</span>
        <span class="k">if</span> <span class="n">rlog10scale</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rLim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">rLim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Error: rLim is invalid in logarithmic scale&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rmin</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">rLim</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                <span class="n">rmax</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">rLim</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
                <span class="n">rLimits</span> <span class="o">=</span> <span class="p">[</span><span class="n">rmin</span><span class="p">,</span> <span class="n">rmax</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rLimits</span> <span class="o">=</span> <span class="n">rLim</span>

        <span class="n">tLimits</span> <span class="o">=</span> <span class="n">tLim</span>

        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">360</span><span class="p">:</span>
            <span class="n">tLimits</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">180</span><span class="p">:</span>
            <span class="n">largeArc</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">largeArc</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># finds the position of the Origin of axis</span>
        <span class="n">axisOrigin</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
        <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">findOrigin</span><span class="p">(</span><span class="n">rLimits</span><span class="p">,</span> <span class="n">rlog10scale</span><span class="p">,</span> <span class="n">scaleR</span><span class="p">)</span>
        <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">findOrigin</span><span class="p">(</span><span class="n">tLimits</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

        <span class="c1"># computes the positions of the limits on svg, considering the scale</span>

        <span class="k">if</span> <span class="n">rlog10scale</span><span class="p">:</span>  <span class="c1"># convert limits to position in diagram, including scaling factor</span>
            <span class="n">rLimitsPos</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">scaleR</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">rLimits</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rLimitsPos</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="n">scaleR</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">rLimits</span><span class="p">]</span>

        <span class="c1"># build the list of tuples with the limits of the plotting area</span>
        <span class="n">outputLimits</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="n">rLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">[</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]]))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">drawAxis</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">outputLimits</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

        <span class="c1"># axis ticks</span>
        <span class="n">groupTicks</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">GroupPlot</span><span class="p">,</span> <span class="s1">&#39;Ticks&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">rTicks</span> <span class="ow">or</span> <span class="n">rGrid</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">rlog10scale</span><span class="p">:</span>
                <span class="n">listTicks</span> <span class="o">=</span> <span class="n">generateListOfTicksLog10</span><span class="p">(</span><span class="n">rLimits</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">listTicks</span> <span class="o">=</span> <span class="n">generateListOfTicksLinear</span><span class="p">(</span><span class="n">rLimits</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">scaleR</span><span class="p">,</span> <span class="n">rTickStep</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">listTicks</span><span class="p">:</span>

                <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;=</span> <span class="n">rLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">r</span> <span class="o">&gt;=</span> <span class="n">rLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>

                    <span class="c1"># get position, considering the scale and its text</span>
                    <span class="p">[</span><span class="n">posR</span><span class="p">,</span> <span class="n">rText</span><span class="p">]</span> <span class="o">=</span> <span class="n">getPositionAndText</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">scaleR</span><span class="p">,</span> <span class="n">rlog10scale</span><span class="p">,</span> <span class="n">rAxisUnitFactor</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">rGrid</span> <span class="ow">and</span> <span class="n">posR</span> <span class="o">&gt;</span> <span class="mf">0.0</span> <span class="ow">and</span> <span class="n">r</span> <span class="o">&gt;</span> <span class="n">rLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">rLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>  <span class="c1"># grid lines.</span>
                        <span class="k">if</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">360</span><span class="p">:</span>
                            <span class="n">inkDraw</span><span class="o">.</span><span class="n">arc</span><span class="o">.</span><span class="n">centerAngStartAngEnd</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">posR</span><span class="p">,</span> <span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleGrid</span><span class="p">,</span>
                                                             <span class="n">largeArc</span><span class="o">=</span><span class="n">largeArc</span><span class="p">)</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">inkDraw</span><span class="o">.</span><span class="n">circle</span><span class="o">.</span><span class="n">centerRadius</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">posR</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleGrid</span><span class="p">)</span>

                    <span class="c1"># intermediate grid lines in case of logarithmic scale</span>
                    <span class="k">if</span> <span class="n">rGrid</span> <span class="ow">and</span> <span class="n">rlog10scale</span> <span class="ow">and</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">rLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
                            <span class="n">aditionalStep</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">scaleR</span>
                            <span class="k">if</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">360</span><span class="p">:</span>
                                <span class="n">inkDraw</span><span class="o">.</span><span class="n">arc</span><span class="o">.</span><span class="n">centerAngStartAngEnd</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">posR</span> <span class="o">+</span> <span class="n">aditionalStep</span><span class="p">,</span> <span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                                                                 <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleGridFine</span><span class="p">,</span>
                                                                 <span class="n">largeArc</span><span class="o">=</span><span class="n">largeArc</span><span class="p">)</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">inkDraw</span><span class="o">.</span><span class="n">circle</span><span class="o">.</span><span class="n">centerRadius</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">posR</span> <span class="o">+</span> <span class="n">aditionalStep</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleGridFine</span><span class="p">)</span>

                    <span class="c1"># tick</span>
                    <span class="k">if</span> <span class="n">rTicks</span> <span class="ow">and</span> <span class="n">posR</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">arc</span><span class="o">.</span><span class="n">centerAngStartAngEnd</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">posR</span><span class="p">,</span> <span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">lenghtTicks</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">posR</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)),</span>
                                                         <span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">lenghtTicks</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">posR</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)),</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleTicks</span><span class="p">,</span>
                                                         <span class="n">largeArc</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">rTicks</span> <span class="ow">and</span> <span class="n">posR</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">relCoords</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="n">lenghtTicks</span><span class="p">]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span> <span class="n">lenghtTicks</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleTicks</span><span class="p">)</span>

                    <span class="c1"># sets justification</span>
                    <span class="c1"># inkDraw.text.write(ExtensionBaseObj,&#39;orig=&#39;+str(axisOrigin),[axisOrigin[0]+10,axisOrigin[1]-30],groupTicks,fontSize=7)</span>
                    <span class="c1"># inkDraw.text.write(ExtensionBaseObj,&#39;xlim=&#39;+str(xLimitsPos),[axisOrigin[0]+10,axisOrigin[1]-20],groupTicks,fontSize=7)</span>
                    <span class="c1"># inkDraw.text.write(ExtensionBaseObj,&#39;ylim=&#39;+str(yLimitsPos),[axisOrigin[0]+10,axisOrigin[1]-10],groupTicks,fontSize=7)</span>

                    <span class="k">if</span> <span class="n">posR</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;cc&#39;</span>
                        <span class="n">offsetX</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="n">offsetY</span> <span class="o">=</span> <span class="n">text_offset</span> <span class="o">*</span> <span class="mf">1.2</span>
                        <span class="n">posX</span> <span class="o">=</span> <span class="n">posR</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">+</span> <span class="n">offsetX</span>
                        <span class="n">posY</span> <span class="o">=</span> <span class="n">posR</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">+</span> <span class="n">offsetY</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">offsetT</span> <span class="o">=</span> <span class="n">text_offset</span> <span class="o">*</span> <span class="mf">1.2</span>
                        <span class="k">if</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">340</span><span class="p">:</span>
                            <span class="n">offsetR</span> <span class="o">=</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="mf">2.0</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">offsetR</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;cc&#39;</span>
                        <span class="n">posX</span> <span class="o">=</span> <span class="p">(</span><span class="n">posR</span> <span class="o">+</span> <span class="n">offsetR</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">+</span> <span class="n">offsetT</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                        <span class="n">posY</span> <span class="o">=</span> <span class="p">(</span><span class="n">posR</span> <span class="o">+</span> <span class="n">offsetR</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">+</span> <span class="n">offsetT</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                    <span class="c1"># value</span>
                    <span class="c1"># inkDraw.circle.centerRadius(groupTicks,[posX,posY], 1)</span>
                    <span class="k">if</span> <span class="n">rTicks</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">groupTicks</span><span class="p">,</span> <span class="n">rText</span><span class="p">,</span> <span class="p">[</span><span class="n">posX</span><span class="p">,</span> <span class="n">posY</span><span class="p">],</span> <span class="n">textSizeSmall</span><span class="p">,</span> <span class="n">refPoint</span><span class="o">=</span><span class="n">justif</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tTicks</span> <span class="ow">or</span> <span class="n">tGrid</span><span class="p">:</span>

            <span class="n">listTicks</span> <span class="o">=</span> <span class="n">generateListOfTicksLinear</span><span class="p">(</span><span class="n">tLimits</span><span class="p">,</span> <span class="n">axisOrigin</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tTickStep</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">listTicks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">t</span> <span class="o">&lt;=</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">&gt;=</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">c</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="p">))</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
                    <span class="n">s</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="p">))</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
                    <span class="c1"># get position, considering the scale and its text</span>
                    <span class="k">if</span> <span class="n">inkDraw</span><span class="o">.</span><span class="n">useLatex</span><span class="p">:</span>
                        <span class="n">tText</span> <span class="o">=</span> <span class="s1">&#39;$&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;$&#39;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">tText</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

                    <span class="k">if</span> <span class="p">(</span><span class="n">tGrid</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">&gt;</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">tGrid</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">==</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">360</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># if rmin is zero, then make the lines to reach the center</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">rlog10scale</span><span class="p">:</span>
                                <span class="n">P1</span> <span class="o">=</span> <span class="p">[(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">scaleR</span> <span class="o">*</span> <span class="n">rTickStep</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">scaleR</span> <span class="o">*</span> <span class="n">rTickStep</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">s</span><span class="p">]</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">P1</span> <span class="o">=</span> <span class="p">[(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.3</span> <span class="o">*</span> <span class="n">scaleR</span><span class="p">)</span> <span class="o">*</span> <span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.3</span> <span class="o">*</span> <span class="n">scaleR</span><span class="p">)</span> <span class="o">*</span> <span class="n">s</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">P1</span> <span class="o">=</span> <span class="p">[</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">c</span><span class="p">,</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">s</span><span class="p">]</span>
                        <span class="n">P2</span> <span class="o">=</span> <span class="p">[</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">c</span><span class="p">,</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">s</span><span class="p">]</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[</span><span class="n">P1</span><span class="p">,</span> <span class="n">P2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleGrid</span><span class="p">)</span>

                    <span class="c1"># tick</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">tTicks</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">!=</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">tTicks</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">==</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">360</span><span class="p">):</span>
                        <span class="n">P1</span> <span class="o">=</span> <span class="p">[(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lenghtTicks</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">c</span><span class="p">,</span> <span class="p">(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lenghtTicks</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">s</span><span class="p">]</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">relCoords</span><span class="p">(</span><span class="n">groupTicks</span><span class="p">,</span> <span class="p">[[</span><span class="n">lenghtTicks</span> <span class="o">*</span> <span class="n">c</span><span class="p">,</span> <span class="n">lenghtTicks</span> <span class="o">*</span> <span class="n">s</span><span class="p">]],</span> <span class="n">P1</span><span class="p">,</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleTicks</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">c</span> <span class="o">&gt;</span> <span class="mf">1.0e-4</span><span class="p">:</span>
                        <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;cl&#39;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">1.0e-4</span><span class="p">:</span>
                            <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;cr&#39;</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">justif</span> <span class="o">=</span> <span class="s1">&#39;cc&#39;</span>

                    <span class="n">offsetR</span> <span class="o">=</span> <span class="n">text_offset</span>
                    <span class="n">posX</span> <span class="o">=</span> <span class="p">(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">offsetR</span><span class="p">)</span> <span class="o">*</span> <span class="n">c</span>
                    <span class="n">posY</span> <span class="o">=</span> <span class="p">(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">offsetR</span><span class="p">)</span> <span class="o">*</span> <span class="n">s</span>
                    <span class="c1"># value</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">tTicks</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">!=</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">tTicks</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">==</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">360</span><span class="p">):</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">groupTicks</span><span class="p">,</span> <span class="n">tText</span><span class="p">,</span> <span class="p">[</span><span class="n">posX</span><span class="p">,</span> <span class="n">posY</span><span class="p">],</span> <span class="n">textSizeSmall</span><span class="p">,</span> <span class="n">refPoint</span><span class="o">=</span><span class="n">justif</span><span class="p">)</span>

        <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">moveElement</span><span class="p">(</span><span class="n">GroupPlot</span><span class="p">,</span> <span class="n">position</span><span class="p">)</span>

        <span class="c1"># draw axis in the end so it stays on top of other objects</span>
        <span class="n">GroupAxis</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">GroupPlot</span><span class="p">,</span> <span class="s1">&#39;Axis&#39;</span><span class="p">)</span>

        <span class="n">c0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
        <span class="n">s0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
        <span class="n">s1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
        <span class="n">P1</span> <span class="o">=</span> <span class="p">[</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">c0</span><span class="p">,</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">s0</span><span class="p">]</span>
        <span class="n">P2</span> <span class="o">=</span> <span class="p">[</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">c0</span><span class="p">,</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">s0</span><span class="p">]</span>
        <span class="n">P3</span> <span class="o">=</span> <span class="p">[</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">c1</span><span class="p">,</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">s1</span><span class="p">]</span>
        <span class="n">P4</span> <span class="o">=</span> <span class="p">[</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">c1</span><span class="p">,</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">s1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">360</span><span class="p">:</span>
            <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">GroupAxis</span><span class="p">,</span> <span class="p">[</span><span class="n">P1</span><span class="p">,</span> <span class="n">P2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleAxis</span><span class="p">)</span>
            <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">GroupAxis</span><span class="p">,</span> <span class="p">[</span><span class="n">P3</span><span class="p">,</span> <span class="n">P4</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleAxis</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rTicks</span><span class="p">:</span>
                <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">GroupAxis</span><span class="p">,</span> <span class="p">[</span><span class="n">P1</span><span class="p">,</span> <span class="n">P2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleAxis</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">360</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">inkDraw</span><span class="o">.</span><span class="n">arc</span><span class="o">.</span><span class="n">startEndRadius</span><span class="p">(</span><span class="n">GroupAxis</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="n">P4</span><span class="p">,</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">offset</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleAxis</span><span class="p">,</span> <span class="n">flagRightOf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">arcType</span><span class="o">=</span><span class="s1">&#39;open&#39;</span><span class="p">,</span>
                                           <span class="n">largeArc</span><span class="o">=</span><span class="n">largeArc</span><span class="p">)</span>
            <span class="n">inkDraw</span><span class="o">.</span><span class="n">arc</span><span class="o">.</span><span class="n">startEndRadius</span><span class="p">(</span><span class="n">GroupAxis</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="n">P3</span><span class="p">,</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">offset</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleAxis</span><span class="p">,</span> <span class="n">flagRightOf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">arcType</span><span class="o">=</span><span class="s1">&#39;open&#39;</span><span class="p">,</span>
                                       <span class="n">largeArc</span><span class="o">=</span><span class="n">largeArc</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">inkDraw</span><span class="o">.</span><span class="n">circle</span><span class="o">.</span><span class="n">centerRadius</span><span class="p">(</span><span class="n">GroupAxis</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">offset</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleAxis</span><span class="p">)</span>
            <span class="n">inkDraw</span><span class="o">.</span><span class="n">circle</span><span class="o">.</span><span class="n">centerRadius</span><span class="p">(</span><span class="n">GroupAxis</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">offset</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStyleAxis</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">rLabel</span><span class="p">:</span>  <span class="c1"># axis labels</span>
            <span class="n">c0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
            <span class="n">s0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tLimits</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">text_offset</span> <span class="o">/</span> <span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># negative angles bc inkscape is upside down</span>
            <span class="n">posText</span> <span class="o">=</span> <span class="p">[(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">ExtraSpaceArrowR</span><span class="p">)</span> <span class="o">*</span> <span class="n">c0</span><span class="p">,</span> <span class="p">(</span><span class="n">rLimitsPos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">ExtraSpaceArrowR</span><span class="p">)</span> <span class="o">*</span> <span class="n">s0</span><span class="p">]</span>
            <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">GroupAxis</span><span class="p">,</span> <span class="n">rLabel</span><span class="p">,</span> <span class="n">posText</span><span class="p">,</span> <span class="n">textSize</span><span class="p">,</span> <span class="n">refPoint</span><span class="o">=</span><span class="s1">&#39;cl&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">GroupPlot</span><span class="p">,</span> <span class="n">outputLimits</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span></div></div>


<div class="viewcode-block" id="plot"><a class="viewcode-back" href="../moduleDefinitions.html#inkscapeMadeEasy_Plot.plot">[docs]</a><span class="k">class</span> <span class="nc">plot</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot; This class has member functions to create plots.</span>

<span class="sd">    .. note:: This class contains only static methods so that your plugin class don&#39;t have to inherit it.</span>

<span class="sd">    .. note:: This class uses LaTeX in labels and tick marks if LaTeX support is enabled. This is an optional feature, **enabled by default**.</span>
<span class="sd">            Please refer to :ref:`disableLatexSupport` on how to disable it. If disabled, this function will still work, internally calling the :meth:`inkscapeMadeEasy_Draw.text.write` to generate text.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="plot.cartesian"><a class="viewcode-back" href="../moduleDefinitions.html#inkscapeMadeEasy_Plot.plot.cartesian">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">cartesian</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">xData</span><span class="p">,</span> <span class="n">yData</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">xLabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">yLabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">xlog10scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ylog10scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">xTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">yTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">xTickStep</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">yTickStep</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">xScale</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">yScale</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">xExtraText</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">yExtraText</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">xGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">yGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                  <span class="n">generalAspectFactorAxis</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">lineStylePlot</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">setSimpleBlack</span><span class="p">(),</span> <span class="n">forceXlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">forceYlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drawAxis</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">ExtraLengthAxisX</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">ExtraLengthAxisY</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a cartesian Plot</span>

<span class="sd">        .. note:: This method uses LaTeX in labels and tick marks if LaTeX support is enabled. This is an optional feature, **enabled by default**. Please refer to :ref:`disableLatexSupport` on how to disable it.</span>

<span class="sd">        :param ExtensionBaseObj: Most of the times you have to pass &#39;self&#39; when calling from inside your plugin class. See example below</span>
<span class="sd">        :param parent: Parent object</span>
<span class="sd">        :param xData: List of x data</span>
<span class="sd">        :param yData: List of y data</span>
<span class="sd">        :param position: Position of the plot. It is defined at the point where x and y axis cross [x0,y0]. The point where the axis cross depend on the limits.</span>

<span class="sd">              - If xLimits comprises the origin x=0, then the  Y axis crosses the X axis at x=0.</span>
<span class="sd">              - If xLimits contains only negative numbers, then the Y axis crosses the X axis at x_max.</span>
<span class="sd">              - If xLimits contains only positive numbers, then the Y axis crosses the X axis at x_min.</span>

<span class="sd">              - The same rule applies to y direction.</span>
<span class="sd">        :param xLabel: Label of the X axis. Default: &#39;&#39;</span>

<span class="sd">              The text can contain any LaTeX command. If you want to write mathematical text, you can enclose it between dollar signs $...$. If LaTeX support is disabled, do not use $.</span>

<span class="sd">        :param yLabel: Label of the Y axis. Default: &#39;&#39;</span>

<span class="sd">              The text can contain any LaTeX command. If you want to write mathematical text, you can enclose it between dollar signs $...$. If LaTeX support is disabled, do not use $.</span>

<span class="sd">        :param xlog10scale: Sets X axis to log10 scale if True. Default: False</span>
<span class="sd">        :param ylog10scale: Sets Y axis to log10 scale if True. Default: False</span>
<span class="sd">        :param xTicks: Adds axis ticks to the X axis if True. Default: True</span>
<span class="sd">        :param yTicks: Adds axis ticks to the Y axis if True. Default: True</span>
<span class="sd">        :param xTickStep: Value interval between two consecutive ticks on X axis. (Not used if X axis is in log10 scale). Default:1.0</span>
<span class="sd">        :param yTickStep: Value interval between two consecutive ticks on Y axis. (Not used if Y axis is in log10 scale). Default:1.0</span>
<span class="sd">        :param xScale:  Distance between each xTickStep in svg units. Default: 20</span>

<span class="sd">               - If axis is linear, then xScale is the size in svg units of each tick</span>
<span class="sd">               - If axis is log10, the xScale is the size in svg units of one decade</span>

<span class="sd">        :param yScale: Distance between each yTickStep in svg units. Default: 20</span>

<span class="sd">               - If axis is linear, then yScale is the size in svg units of each tick</span>
<span class="sd">               - If axis is log10, the yScale is the size in svg units of one decade</span>

<span class="sd">        :param xExtraText: Extra text to be added to the ticks in X axis. Default: &#39;&#39;</span>

<span class="sd">              This is useful when we want to represent interval with different units. example pi, 2pi 3pi, etc.</span>
<span class="sd">              The text can be any LaTeX text. Keep in mind that this text will be inserted within a mathematical environment $...$, therefore no $ is needed here.</span>
<span class="sd">        :param yExtraText: Extra text to be added to the ticks in Y axis. Default: &#39;&#39;</span>

<span class="sd">              This is useful when we want to represent interval with different units. example pi, 2pi 3pi, etc.</span>
<span class="sd">              The text can be any LaTeX text. Keep in mind that this text will be inserted within a mathematical environment $...$, therefore no $ is needed here.</span>

<span class="sd">        :param xGrid: Adds grid lines to X axis if True. Default: False</span>
<span class="sd">        :param yGrid: Adds grid lines to Y axis if True. Default: False</span>
<span class="sd">        :param generalAspectFactorAxis: Regulates the general aspect ratio between grid lines, text and Ticks separations. Default: 1.0</span>

<span class="sd">        :param lineStylePlot: Line style to be used to plot the data. See class ``inkscapeMadeEasy_Draw.lineStyle``. Default: lineStylePlot=inkDraw.lineStyle.setSimpleBlack()</span>
<span class="sd">        :param forceXlim: Forces limits of X axis to these limits. These limits affect the axis only, that is, all xData is plotted despite of these limits.</span>

<span class="sd">            - if forceXlim=None Limits will be defined by the limits of xData (Default)</span>
<span class="sd">            - if forceXlim=[xMin,xMax] then these limits will be used.</span>

<span class="sd">            .. note:: for logarithmic scale, the limits are always adjusted to complete the decade. Usually you don&#39;t need this for logarithmic scale</span>

<span class="sd">        :param forceYlim: Forces limits of Y axis to these limits. These limits affect the axis only, that is, all yData is plotted despite of these limits.</span>

<span class="sd">            - if forceYlim=None Limits will be defined by the limits of yData (Default)</span>
<span class="sd">            - if forceYlim=[yMin,yMax] then these limits will be used.</span>

<span class="sd">            .. note:: for logarithmic scale, the limits are always adjusted to complete the decade. Usually you don&#39;t need this for logarithmic scale</span>

<span class="sd">        :param drawAxis: Control flag of the axis method</span>

<span class="sd">               - True: draws axis normally</span>
<span class="sd">               - False: returns the limits and origin position without drawing the axis itself</span>

<span class="sd">        :param ExtraLengthAxisX: Extra length near the arrow pointer of X axis. Default 0.0</span>
<span class="sd">        :param ExtraLengthAxisY: Extra length near the arrow pointer of Y axis. Default 0.0</span>

<span class="sd">        :type ExtensionBaseObj: inkscapeMadeEasy object</span>
<span class="sd">        :type parent: inkscape element object</span>
<span class="sd">        :type xData: list</span>
<span class="sd">        :type yData: list</span>
<span class="sd">        :type position: list</span>
<span class="sd">        :type xLabel: string</span>
<span class="sd">        :type yLabel: string</span>
<span class="sd">        :type xlog10scale: bool</span>
<span class="sd">        :type ylog10scale: bool</span>
<span class="sd">        :type xTicks: bool</span>
<span class="sd">        :type yTicks: bool</span>
<span class="sd">        :type xTickStep: float</span>
<span class="sd">        :type yTickStep: float</span>
<span class="sd">        :type xScale: float</span>
<span class="sd">        :type yScale: float</span>
<span class="sd">        :type xExtraText: string</span>
<span class="sd">        :type yExtraText: string</span>
<span class="sd">        :type xGrid: bool</span>
<span class="sd">        :type yGrid: bool</span>
<span class="sd">        :type generalAspectFactorAxis: float</span>
<span class="sd">        :type lineStylePlot: lineStyle object</span>
<span class="sd">        :type forceXlim: list</span>
<span class="sd">        :type forceYlim: list</span>
<span class="sd">        :type drawAxis: bool</span>
<span class="sd">        :type ExtraLengthAxisX: float</span>
<span class="sd">        :type ExtraLengthAxisY: float</span>

<span class="sd">        :returns: [GroupPlot, outputLimits, axisOrigin]</span>

<span class="sd">            - GroupPlot:  the plot object</span>
<span class="sd">            - outputLimits: a list with tuples:[(x_min,xPos_min),(x_max,xPos_max),(y_min,yPos_min),(y_max,yPos_max)]</span>

<span class="sd">                  - x_min, x_max, y_min, y_max:               The limits of the axis object</span>
<span class="sd">                  - xPos_min, xPos_max, yPos_min, yPos_max:   The positions of the limits of the axis object, considering the scaling and units</span>
<span class="sd">            - axisOrigin [X0,Y0]:                      A list with the coordinates of the point where the axes cross.</span>
<span class="sd">        :rtype: list</span>

<span class="sd">        .. important:: If any of the axis are log10, then the method ignores any pairs of (x,y) data with invalid coordinates, that is, if xData and/or yData is less than or equal to 0.0 (they would result in complex log10... =P ). The method will create a text object alongside your plot warning this.</span>

<span class="sd">        .. note:: If any of the axis are linear, the method will ignore any value greater than 10.000 (in absolute value). This avoids plotting very large numbers. The method will create a text object alongside your plot warning this.</span>

<span class="sd">        **Example**</span>

<span class="sd">        &gt;&gt;&gt; root_layer = self.document.getroot()     # retrieves the root layer of the document</span>
<span class="sd">        &gt;&gt;&gt; xData=[-1,-0.5,0,0.5,1.0,1.5,2]</span>
<span class="sd">        &gt;&gt;&gt; yData=[x*x for x in xData]    # computes y=x*x</span>
<span class="sd">        &gt;&gt;&gt; #create a lineStyle for the plot</span>
<span class="sd">        &gt;&gt;&gt; myMarkerDot=inkDraw.marker.createDotMarker(self,&#39;DotM&#39;,RenameMode=2,scale=0.3,</span>
<span class="sd">        &gt;&gt;&gt;                                            strokeColor=inkDraw.color.defined(&#39;black&#39;),fillColor=inkDraw.color.defined(&#39;black&#39;))</span>
<span class="sd">        &gt;&gt;&gt; lineStyleDiscrete = inkDraw.lineStyle.set(lineWidth=1.0, markerStart=myMarkerDot,markerMid=myMarkerDot,markerEnd=myMarkerDot)</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; inkPlot.plot.cartesian(self,root_layer,xData,yData,position=[0,0],</span>
<span class="sd">        &gt;&gt;&gt;                        xLabel=&#39;my $x$ data&#39;,yLabel=&#39;$y(x)$&#39;,xlog10scale=False,ylog10scale=False,</span>
<span class="sd">        &gt;&gt;&gt;                        xTicks=True,yTicks=True,xTickStep=0.5,yTickStep=2.0,</span>
<span class="sd">        &gt;&gt;&gt;                        xScale=20,yScale=10,xExtraText=&#39;a&#39;,yExtraText=&#39;&#39;,</span>
<span class="sd">        &gt;&gt;&gt;                        xGrid=True,yGrid=True,generalAspectFactorAxis=1.0,lineStylePlot=lineStyleDiscrete,</span>
<span class="sd">        &gt;&gt;&gt;                        forceXlim=None,forceYlim=None,drawAxis=True)</span>

<span class="sd">        The image below present the plot above with a few argument variations.</span>

<span class="sd">        .. image:: ../imagesDocs/plot_plotCartesianParameters_01.png</span>
<span class="sd">          :width: 800px</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">textSize</span> <span class="o">=</span> <span class="n">generalAspectFactorAxis</span> <span class="o">*</span> <span class="mf">0.25</span> <span class="o">*</span> <span class="nb">min</span><span class="p">(</span><span class="n">xScale</span><span class="p">,</span> <span class="n">yScale</span><span class="p">)</span>
        <span class="n">lineWidthAxis</span> <span class="o">=</span> <span class="n">generalAspectFactorAxis</span> <span class="o">*</span> <span class="nb">min</span><span class="p">(</span><span class="n">xScale</span><span class="p">,</span> <span class="n">yScale</span><span class="p">)</span> <span class="o">/</span> <span class="mf">35.0</span>

        <span class="n">yDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">xDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">xlog10scale</span><span class="p">:</span>  <span class="c1"># remove invalid pairs of coordinates for log plot (less than or equal to 0.0)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xData</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">:</span>
                    <span class="n">yDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">xDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">flagShowedError</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span>
                                           <span class="s1">&#39;Error: The point (</span><span class="si">%f</span><span class="s1">,</span><span class="si">%f</span><span class="s1">)</span><span class="se">\n</span><span class="s1"> is invalid in logarithmic scale. Ignoring it...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
                                           <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;       Please check your graph&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span>
                                           <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># remove invalid pairs of coordinates for linear plot (larger than +-10k )</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xData</span><span class="p">)):</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mf">1.0e4</span><span class="p">:</span>
                    <span class="n">yDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">xDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">flagShowedError</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;Error: The point (</span><span class="si">%f</span><span class="s1">,</span><span class="si">%f</span><span class="s1">)</span><span class="se">\n</span><span class="s1"> is too large. Ignoring it...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
                                           <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;       Please check your graph&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span>
                                           <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">yData</span> <span class="o">=</span> <span class="n">yDataTemp</span>
        <span class="n">xData</span> <span class="o">=</span> <span class="n">xDataTemp</span>

        <span class="n">yDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">xDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">ylog10scale</span><span class="p">:</span>  <span class="c1"># remove invalid pairs of coordinates for log plot (less than or equal to 0.0)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">yData</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">:</span>
                    <span class="n">yDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">xDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">flagShowedError</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span>
                                           <span class="s1">&#39;Error: The point (</span><span class="si">%f</span><span class="s1">,</span><span class="si">%f</span><span class="s1">)</span><span class="se">\n</span><span class="s1"> is invalid in logarithmic scale. Ignoring it...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
                                           <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;       Please check your graph&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span>
                                           <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># remove invalid pairs of coordinates for linear plot (larger than +-10k )</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">yData</span><span class="p">)):</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mf">1.0e4</span><span class="p">:</span>
                    <span class="n">yDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">xDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">flagShowedError</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;Error: The point (</span><span class="si">%f</span><span class="s1">,</span><span class="si">%f</span><span class="s1">)</span><span class="se">\n</span><span class="s1"> is too large. Ignoring it...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
                                           <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;       Please check your graph&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span>
                                           <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">yData</span> <span class="o">=</span> <span class="n">yDataTemp</span>
        <span class="n">xData</span> <span class="o">=</span> <span class="n">xDataTemp</span>

        <span class="k">if</span> <span class="n">forceXlim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">Xlimits</span> <span class="o">=</span> <span class="n">forceXlim</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Xlimits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">xData</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">xData</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">forceYlim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">Ylimits</span> <span class="o">=</span> <span class="n">forceYlim</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Ylimits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">yData</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">yData</span><span class="p">)]</span>  <span class="c1"># min&lt;-&gt;max inverted  bc inkscape is upside down</span>

        <span class="k">if</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Ylimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Ylimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Xlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Xlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># draw axis</span>
        <span class="n">axisGroup</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;PlotData&#39;</span><span class="p">)</span>

        <span class="p">[</span><span class="n">axisObj</span><span class="p">,</span> <span class="n">limits</span><span class="p">,</span> <span class="n">origin</span><span class="p">]</span> <span class="o">=</span> <span class="n">axis</span><span class="o">.</span><span class="n">cartesian</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">axisGroup</span><span class="p">,</span> <span class="n">Xlimits</span><span class="p">,</span> <span class="n">Ylimits</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">xLabel</span><span class="o">=</span><span class="n">xLabel</span><span class="p">,</span> <span class="n">yLabel</span><span class="o">=</span><span class="n">yLabel</span><span class="p">,</span>
                                                   <span class="n">xlog10scale</span><span class="o">=</span><span class="n">xlog10scale</span><span class="p">,</span> <span class="n">ylog10scale</span><span class="o">=</span><span class="n">ylog10scale</span><span class="p">,</span> <span class="n">xTicks</span><span class="o">=</span><span class="n">xTicks</span><span class="p">,</span> <span class="n">yTicks</span><span class="o">=</span><span class="n">yTicks</span><span class="p">,</span>
                                                   <span class="n">xTickStep</span><span class="o">=</span><span class="n">xTickStep</span><span class="p">,</span> <span class="n">yTickStep</span><span class="o">=</span><span class="n">yTickStep</span><span class="p">,</span> <span class="n">xScale</span><span class="o">=</span><span class="n">xScale</span><span class="p">,</span> <span class="n">yScale</span><span class="o">=</span><span class="n">yScale</span><span class="p">,</span> <span class="n">xAxisUnitFactor</span><span class="o">=</span><span class="n">xExtraText</span><span class="p">,</span>
                                                   <span class="n">yAxisUnitFactor</span><span class="o">=</span><span class="n">yExtraText</span><span class="p">,</span> <span class="n">xGrid</span><span class="o">=</span><span class="n">xGrid</span><span class="p">,</span> <span class="n">yGrid</span><span class="o">=</span><span class="n">yGrid</span><span class="p">,</span> <span class="n">forceTextSize</span><span class="o">=</span><span class="n">textSize</span><span class="p">,</span>
                                                   <span class="n">forceLineWidth</span><span class="o">=</span><span class="n">lineWidthAxis</span><span class="p">,</span> <span class="n">drawAxis</span><span class="o">=</span><span class="n">drawAxis</span><span class="p">,</span> <span class="n">ExtraLengthAxisX</span><span class="o">=</span><span class="n">ExtraLengthAxisX</span><span class="p">,</span>
                                                   <span class="n">ExtraLengthAxisY</span><span class="o">=</span><span class="n">ExtraLengthAxisY</span><span class="p">)</span>

        <span class="c1"># scales data and convert to logarithmic scale if needed. Also subtracts the origin point of the axis to move the plot to the correct position</span>
        <span class="k">if</span> <span class="n">xlog10scale</span><span class="p">:</span>
            <span class="n">xData</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">xScale</span> <span class="o">-</span> <span class="n">origin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xData</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">xData</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="p">(</span><span class="n">xScale</span> <span class="o">/</span> <span class="n">xTickStep</span><span class="p">)</span> <span class="o">-</span> <span class="n">origin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xData</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">ylog10scale</span><span class="p">:</span>
            <span class="n">yData</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">yScale</span> <span class="o">-</span> <span class="n">origin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yData</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">yData</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="o">*</span> <span class="p">(</span><span class="n">yScale</span> <span class="o">/</span> <span class="n">yTickStep</span><span class="p">)</span> <span class="o">-</span> <span class="n">origin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yData</span><span class="p">]</span>  <span class="c1"># negative bc inkscape is upside down</span>

        <span class="n">coords</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">xData</span><span class="p">,</span> <span class="n">yData</span><span class="p">)</span>

        <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">axisGroup</span><span class="p">,</span> <span class="n">coords</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStylePlot</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">axisGroup</span><span class="p">,</span> <span class="n">limits</span><span class="p">,</span> <span class="n">origin</span><span class="p">]</span></div>

<div class="viewcode-block" id="plot.polar"><a class="viewcode-back" href="../moduleDefinitions.html#inkscapeMadeEasy_Plot.plot.polar">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">polar</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">rData</span><span class="p">,</span> <span class="n">tData</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">rLabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rlog10scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">rTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">rTickStep</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
              <span class="n">tTickStep</span><span class="o">=</span><span class="mf">45.0</span><span class="p">,</span> <span class="n">rScale</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">rExtraText</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">generalAspectFactorAxis</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
              <span class="n">lineStylePlot</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">setSimpleBlack</span><span class="p">(),</span> <span class="n">forceRlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">forceTlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drawAxis</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ExtraLengthAxisR</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a polar Plot</span>

<span class="sd">        .. note:: This method uses LaTeX in labels and tick marks if LaTeX support is enabled. This is an optional feature, **enabled by default**. Please refer to :ref:`disableLatexSupport` on how to disable it.</span>

<span class="sd">        :param ExtensionBaseObj: Most of the times you have to pass &#39;self&#39; when calling from inside your plugin class. See example below</span>
<span class="sd">        :param parent: Parent object</span>
<span class="sd">        :param rData: List of R data</span>
<span class="sd">        :param tData: List of Theta data</span>
<span class="sd">        :param position: Position of the plot [x0,y0]. It is defined at the center point</span>

<span class="sd">        :param rLabel: Label of the R axis. Default: &#39;&#39;</span>

<span class="sd">              The text can contain any LaTeX command. If you want to write mathematical text, you can enclose it between dollar signs $...$. If LaTeX support is disabled, do not use $.</span>

<span class="sd">        :param rlog10scale: Sets R axis to log10 scale if True. Default: False</span>
<span class="sd">        :param rTicks: Adds axis ticks to the R axis if True. Default: True</span>
<span class="sd">        :param tTicks: Adds axis ticks to the Theta axis if True. Default: True</span>
<span class="sd">        :param rTickStep: Value interval between two consecutive ticks on R axis. (Not used if R axis is in log10 scale). Default:1.0</span>
<span class="sd">        :param tTickStep: Value interval between two consecutive ticks on Theta axis.</span>
<span class="sd">        :param rScale:  Distance between each rTickStep in svg units. Default: 20</span>

<span class="sd">               - If axis is linear, then rScale is the size in svg units of each tick</span>
<span class="sd">               - If axis is log10, the rScale is the size in svg units of one decade</span>

<span class="sd">        :param rExtraText: Extra text to be added to the ticks in R axis. Default: &#39;&#39;</span>

<span class="sd">              This is useful when we want to represent interval with different units. example pi, 2pi 3pi, etc.</span>
<span class="sd">              The text can be any LaTeX text. Keep in mind that this text will be inserted within a mathematical environment $...$, therefore no $ is needed here.</span>

<span class="sd">        :param rGrid: Adds grid lines to R axis if True. Default: False</span>
<span class="sd">        :param tGrid: Adds grid lines to Theta axis if True. Default: False</span>
<span class="sd">        :param generalAspectFactorAxis: Regulates the general aspect ratio between grid lines, text and Ticks separations. Default: 1.0</span>

<span class="sd">        :param lineStylePlot: Line style to be used to plot the data. See class ``inkscapeMadeEasy_Draw.lineStyle``. Default: lineStylePlot=inkDraw.lineStyle.setSimpleBlack()</span>
<span class="sd">        :param forceRlim: Forces limits of R axis to these limits. These limits affect the axis only, that is, all rData is plotted despite of these limits.</span>

<span class="sd">                - if forceRlim=None Limits will be defined by the limits of rData (Default)</span>
<span class="sd">                - if forceRlim=[rMin,rMax] then these limits will be used.</span>

<span class="sd">            .. note:: for logarithmic scale, the limits are always adjusted to complete the decade. Usually you don&#39;t need this for logarithmic scale</span>

<span class="sd">        :param forceTlim: Forces limits of Theta axis to these limits. These limits affect the axis only, that is, all tData is plotted despite of these limits.</span>

<span class="sd">                - if forceTlim=None Limits will be defined by min and max of tData (Default)</span>
<span class="sd">                - if forceTlim=[tMin,tMax] then these limits will be used.</span>

<span class="sd">        :param drawAxis: Control flag of the axis method</span>

<span class="sd">               - True: draws axis normally</span>
<span class="sd">               - False: returns the limits and origin position without drawing the axis itself</span>

<span class="sd">        :param ExtraLengthAxisR: Extra length near the arrow pointer of R axis. Default 0.0</span>

<span class="sd">        :type ExtensionBaseObj: inkscapeMadeEasy object</span>
<span class="sd">        :type parent: inkscape element object</span>
<span class="sd">        :type rData: list</span>
<span class="sd">        :type tData: list</span>
<span class="sd">        :type position: list</span>
<span class="sd">        :type rLabel: string</span>
<span class="sd">        :type rlog10scale: bool</span>
<span class="sd">        :type rTicks: bool</span>
<span class="sd">        :type tTicks: bool</span>
<span class="sd">        :type rTickStep: float</span>
<span class="sd">        :type tTickStep: float</span>
<span class="sd">        :type rScale: float</span>
<span class="sd">        :type rExtraText: string</span>
<span class="sd">        :type rGrid: bool</span>
<span class="sd">        :type tGrid: bool</span>
<span class="sd">        :type generalAspectFactorAxis: float</span>
<span class="sd">        :type lineStylePlot: lineStyle object</span>
<span class="sd">        :type forceRlim: list</span>
<span class="sd">        :type forceTlim: list</span>
<span class="sd">        :type drawAxis: bool</span>
<span class="sd">        :type ExtraLengthAxisR: float</span>

<span class="sd">        :returns: [GroupPlot, outputLimits, axisOrigin]</span>

<span class="sd">            - GroupPlot:  the plot object</span>
<span class="sd">            - outputLimits: a list with tuples:[(x_min,xPos_min),(x_max,xPos_max),(y_min,yPos_min),(y_max,yPos_max)]</span>

<span class="sd">                  - x_min, x_max, y_min, y_max:               The limits of the axis object</span>
<span class="sd">                  - xPos_min, xPos_max, yPos_min, yPos_max:   The positions of the limits of the axis object, considering the scaling and units</span>
<span class="sd">                  - axisOrigin [X0,Y0]:                      A list with the coordinates of the point where the axes cross.</span>
<span class="sd">        :rtype: list</span>

<span class="sd">        .. important:: If any of the axis are log10, then the method ignores any pairs of (x,y) data with invalid coordinates, that is, if rData and/or tData is less than or equal to 0.0 (they would result in complex log10... =P ). The method will create a text object alongside your plot warning this.</span>

<span class="sd">        .. note:: If any of the axis are linear, the method will ignore any value greater than 10.000 (in absolute value). This avoids plotting very large numbers. The method will create a text object alongside your plot warning this.</span>

<span class="sd">        **Example**</span>

<span class="sd">        &gt;&gt;&gt; root_layer = self.document.getroot()     # retrieves the root layer of the document</span>
<span class="sd">        &gt;&gt;&gt; rData=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10,11,12]</span>
<span class="sd">        &gt;&gt;&gt; tData=[30*x for x in range(12)]</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; myMarkerDot=inkDraw.marker.createDotMarker(self,&#39;DotM&#39;,RenameMode=2,scale=0.3,</span>
<span class="sd">        &gt;&gt;&gt;                                            strokeColor=inkDraw.color.defined(&#39;black&#39;),fillColor=inkDraw.color.defined(&#39;black&#39;))</span>
<span class="sd">        &gt;&gt;&gt; lineStyleDiscrete = inkDraw.lineStyle.set(lineWidth=1.0,linecolor=inkDraw.color.defined(&#39;red&#39;),</span>
<span class="sd">        &gt;&gt;&gt;                                           markerStart=myMarkerDot,markerMid=myMarkerDot,markerEnd=myMarkerDot)</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; inkPlot.plot.polar(self,root_layer,rData,tData,position=[0,0],</span>
<span class="sd">        &gt;&gt;&gt;                    rLabel=&#39;my $R$ data&#39;,rlog10scale=False,</span>
<span class="sd">        &gt;&gt;&gt;                    rTicks=True,tTicks=True,rTickStep=2,tTickStep=30,</span>
<span class="sd">        &gt;&gt;&gt;                    rScale=20,rExtraText=&#39;a&#39;,</span>
<span class="sd">        &gt;&gt;&gt;                    rGrid=True,tGrid=True,generalAspectFactorAxis=1.0,lineStylePlot=lineStyleDiscrete,</span>
<span class="sd">        &gt;&gt;&gt;                    forceRlim=None,forceTlim=None,drawAxis=True)</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; # another spiral, comprising two turns</span>
<span class="sd">        &gt;&gt;&gt; tData=[2*x for x in range(360)]</span>
<span class="sd">        &gt;&gt;&gt; rData=[x/180.0 for x in tData]</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; inkPlot.plot.polar(self,root_layer,rData,tData,position=[0,0],</span>
<span class="sd">        &gt;&gt;&gt;                    rLabel=&#39;my $R$ data&#39;,rlog10scale=False,</span>
<span class="sd">        &gt;&gt;&gt;                    rTicks=True,tTicks=True,rTickStep=2,tTickStep=30,</span>
<span class="sd">        &gt;&gt;&gt;                    rScale=20,rExtraText=&#39;&#39;,</span>
<span class="sd">        &gt;&gt;&gt;                    rGrid=True,tGrid=True,generalAspectFactorAxis=1.0,</span>
<span class="sd">        &gt;&gt;&gt;                    forceRlim=None,forceTlim=None,drawAxis=True)</span>

<span class="sd">        The image below present the plot above with a few argument variations.</span>

<span class="sd">        .. image:: ../imagesDocs/plot_plotPolarParameters_01.png</span>
<span class="sd">          :width: 900px</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">textSize</span> <span class="o">=</span> <span class="n">generalAspectFactorAxis</span> <span class="o">*</span> <span class="mf">0.25</span> <span class="o">*</span> <span class="n">rScale</span>
        <span class="n">lineWidthAxis</span> <span class="o">=</span> <span class="n">generalAspectFactorAxis</span> <span class="o">*</span> <span class="n">rScale</span> <span class="o">/</span> <span class="mf">35.0</span>

        <span class="n">tDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">rDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">rlog10scale</span><span class="p">:</span>  <span class="c1"># remove invalid pairs of coordinates for log plot (less than or equal to 0.0)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rData</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">1.0</span><span class="p">:</span>
                    <span class="n">tDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">rDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">flagShowedError</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span>
                                           <span class="s1">&#39;Error: The point (</span><span class="si">%f</span><span class="s1">,</span><span class="si">%f</span><span class="s1">)</span><span class="se">\n</span><span class="s1"> is invalid in logarithmic scale. Ignoring it...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">tData</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
                                           <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;       Please check your graph&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span>
                                           <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># remove invalid pairs of coordinates for linear plot (larger than +-10k )</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rData</span><span class="p">)):</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mf">1.0e4</span><span class="p">:</span>
                    <span class="n">tDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">rDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">flagShowedError</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;Error: The point (</span><span class="si">%f</span><span class="s1">,</span><span class="si">%f</span><span class="s1">)</span><span class="se">\n</span><span class="s1"> is too large. Ignoring it...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">tData</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
                                           <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;       Please check your graph&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span>
                                           <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">tData</span> <span class="o">=</span> <span class="n">tDataTemp</span>
        <span class="n">rData</span> <span class="o">=</span> <span class="n">rDataTemp</span>

        <span class="k">if</span> <span class="n">forceRlim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">Rlimits</span> <span class="o">=</span> <span class="n">forceRlim</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Rlimits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">rData</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">rData</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">forceTlim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">Tlimits</span> <span class="o">=</span> <span class="n">forceTlim</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Tlimits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">tData</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">tData</span><span class="p">)]</span>  <span class="c1"># min&lt;-&gt;max inverted  bc inkscape is upside down</span>

        <span class="k">if</span> <span class="n">Tlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Tlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">Tlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Tlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">Tlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Tlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">360</span>
            <span class="k">if</span> <span class="n">Tlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Tlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">Rlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Rlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">Rlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Rlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">Rlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Rlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">Rlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Rlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># draw axis</span>
        <span class="n">axisGroup</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;PlotData&#39;</span><span class="p">)</span>

        <span class="p">[</span><span class="n">axisObj</span><span class="p">,</span> <span class="n">limits</span><span class="p">,</span> <span class="n">origin</span><span class="p">]</span> <span class="o">=</span> <span class="n">axis</span><span class="o">.</span><span class="n">polar</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">axisGroup</span><span class="p">,</span> <span class="n">Rlimits</span><span class="p">,</span> <span class="n">Tlimits</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">rLabel</span><span class="o">=</span><span class="n">rLabel</span><span class="p">,</span> <span class="n">rlog10scale</span><span class="o">=</span><span class="n">rlog10scale</span><span class="p">,</span>
                                               <span class="n">rTicks</span><span class="o">=</span><span class="n">rTicks</span><span class="p">,</span> <span class="n">tTicks</span><span class="o">=</span><span class="n">tTicks</span><span class="p">,</span> <span class="n">rTickStep</span><span class="o">=</span><span class="n">rTickStep</span><span class="p">,</span> <span class="n">tTickStep</span><span class="o">=</span><span class="n">tTickStep</span><span class="p">,</span> <span class="n">rScale</span><span class="o">=</span><span class="n">rScale</span><span class="p">,</span>
                                               <span class="n">rAxisUnitFactor</span><span class="o">=</span><span class="n">rExtraText</span><span class="p">,</span> <span class="n">rGrid</span><span class="o">=</span><span class="n">rGrid</span><span class="p">,</span> <span class="n">tGrid</span><span class="o">=</span><span class="n">tGrid</span><span class="p">,</span> <span class="n">forceTextSize</span><span class="o">=</span><span class="n">textSize</span><span class="p">,</span>
                                               <span class="n">forceLineWidth</span><span class="o">=</span><span class="n">lineWidthAxis</span><span class="p">,</span> <span class="n">drawAxis</span><span class="o">=</span><span class="n">drawAxis</span><span class="p">,</span> <span class="n">ExtraLengthAxisR</span><span class="o">=</span><span class="n">ExtraLengthAxisR</span><span class="p">)</span>

        <span class="c1"># scales data and convert to logarithmic scale if needed. Also subtracts the origin point of the axis to move the plot to the correct position</span>
        <span class="n">nPoints</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rData</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">tData</span><span class="p">))</span>
        <span class="n">xData</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">yData</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">rlog10scale</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nPoints</span><span class="p">):</span>
                <span class="n">xData</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tData</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">*</span> <span class="n">rScale</span><span class="p">)</span>  <span class="c1"># negative theta bc inkscape is upside down</span>
                <span class="n">yData</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tData</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">*</span> <span class="n">rScale</span><span class="p">)</span>  <span class="c1"># negative theta bc inkscape is upside down</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nPoints</span><span class="p">):</span>
                <span class="n">xData</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tData</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">*</span> <span class="p">(</span><span class="n">rScale</span> <span class="o">/</span> <span class="n">rTickStep</span><span class="p">))</span>  <span class="c1"># negative theta bc inkscape is upside down</span>
                <span class="n">yData</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rData</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="n">tData</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="o">*</span> <span class="p">(</span><span class="n">rScale</span> <span class="o">/</span> <span class="n">rTickStep</span><span class="p">))</span>  <span class="c1"># negative theta bc inkscape is upside down</span>

        <span class="n">coords</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">xData</span><span class="p">,</span> <span class="n">yData</span><span class="p">)</span>

        <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">absCoords</span><span class="p">(</span><span class="n">axisGroup</span><span class="p">,</span> <span class="n">coords</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStylePlot</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">axisGroup</span><span class="p">,</span> <span class="n">limits</span><span class="p">,</span> <span class="n">origin</span><span class="p">]</span></div>

<div class="viewcode-block" id="plot.stem"><a class="viewcode-back" href="../moduleDefinitions.html#inkscapeMadeEasy_Plot.plot.stem">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">stem</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">xData</span><span class="p">,</span> <span class="n">yData</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">xLabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">yLabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ylog10scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">xTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">yTicks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">xTickStep</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">yTickStep</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">xScale</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">yScale</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">xExtraText</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">yExtraText</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">xGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">yGrid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">generalAspectFactorAxis</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">lineStylePlot</span><span class="o">=</span><span class="n">inkDraw</span><span class="o">.</span><span class="n">lineStyle</span><span class="o">.</span><span class="n">setSimpleBlack</span><span class="p">(),</span> <span class="n">forceXlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">forceYlim</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drawAxis</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ExtraLengthAxisX</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="n">ExtraLengthAxisY</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a cartesian stem plot</span>

<span class="sd">        .. note:: This method uses LaTeX in labels and tick marks if LaTeX support is enabled. This is an optional feature, **enabled by default**. Please refer to :ref:`disableLatexSupport` on how to disable it.</span>

<span class="sd">        :param ExtensionBaseObj: Most of the times you have to pass &#39;self&#39; when calling from inside your plugin class. See example below</span>
<span class="sd">        :param parent: Parent object</span>
<span class="sd">        :param xData: List of x data</span>
<span class="sd">        :param yData: List of y data</span>
<span class="sd">        :param position: Position of the plot. It is defined at the point where x and y axis cross [x0,y0]. The point where the axis cross depend on the limits.</span>

<span class="sd">              - If xLimits comprises the origin x=0, then the  Y axis crosses the X axis at x=0.</span>
<span class="sd">              - If xLimits contains only negative numbers, then the Y axis crosses the X axis at x_max.</span>
<span class="sd">              - If xLimits contains only positive numbers, then the Y axis crosses the X axis at x_min.</span>

<span class="sd">              - The same rule applies to y direction.</span>
<span class="sd">        :param xLabel: Label of the X axis. Default: &#39;&#39;</span>

<span class="sd">              The text can contain any LaTeX command. If you want to write mathematical text, you can enclose it between dollar signs $...$. If LaTeX support is disabled, do not use $.</span>

<span class="sd">        :param yLabel: Label of the Y axis. Default: &#39;&#39;</span>

<span class="sd">              The text can contain any LaTeX command. If you want to write mathematical text, you can enclose it between dollar signs $...$. If LaTeX support is disabled, do not use $.</span>

<span class="sd">        :param ylog10scale: Sets Y axis to log10 scale if True. Default: False</span>
<span class="sd">        :param xTicks: Adds axis ticks to the X axis if True. Default: True</span>
<span class="sd">        :param yTicks: Adds axis ticks to the Y axis if True. Default: True</span>
<span class="sd">        :param xTickStep: Value interval between two consecutive ticks on X axis. (Not used if X axis is in log10 scale). Default:1.0</span>
<span class="sd">        :param yTickStep: Value interval between two consecutive ticks on Y axis. (Not used if Y axis is in log10 scale). Default:1.0</span>
<span class="sd">        :param xScale:  Distance between each xTickStep in svg units. Default: 20</span>

<span class="sd">               - If axis is linear, then xScale is the size in svg units of each tick</span>
<span class="sd">               - If axis is log10, the xScale is the size in svg units of one decade</span>

<span class="sd">        :param yScale: Distance between each yTickStep in svg units. Default: 20</span>

<span class="sd">               - If axis is linear, then yScale is the size in svg units of each tick</span>
<span class="sd">               - If axis is log10, the yScale is the size in svg units of one decade</span>

<span class="sd">        :param xExtraText: Extra text to be added to the ticks in X axis. Default: &#39;&#39;</span>

<span class="sd">              This is useful when we want to represent interval with different units. example pi, 2pi 3pi, etc.</span>
<span class="sd">              The text can be any LaTeX text. Keep in mind that this text will be inserted within a mathematical environment $...$, therefore no $ is needed here.</span>
<span class="sd">        :param yExtraText: Extra text to be added to the ticks in Y axis. Default: &#39;&#39;</span>

<span class="sd">              This is useful when we want to represent interval with different units. example pi, 2pi 3pi, etc.</span>
<span class="sd">              The text can be any LaTeX text. Keep in mind that this text will be inserted within a mathematical environment $...$, therefore no $ is needed here.</span>

<span class="sd">        :param xGrid: Adds grid lines to X axis if True. Default: False</span>
<span class="sd">        :param yGrid: Adds grid lines to Y axis if True. Default: False</span>
<span class="sd">        :param generalAspectFactorAxis: Regulates the general aspect ratio between grid lines, text and Ticks separations. Default: 1.0</span>

<span class="sd">        :param lineStylePlot: Line style to be used to plot the data. See class ``inkscapeMadeEasy_Draw.lineStyle``. Default: lineStylePlot=inkDraw.lineStyle.setSimpleBlack()</span>
<span class="sd">        :param forceXlim: Forces limits of X axis to these limits. These limits affect the axis only, that is, all xData is plotted despite of these limits.</span>

<span class="sd">            - if forceXlim=None Limits will be defined by the limits of xData (Default)</span>
<span class="sd">                - if forceXlim=[xMin,xMax] then these limits will be used.</span>

<span class="sd">            .. note:: for logarithmic scale, the limits are always adjusted to complete the decade. Usually you don&#39;t need this for logarithmic scale</span>

<span class="sd">        :param forceYlim: Forces limits of Y axis to these limits. These limits affect the axis only, that is, all yData is plotted despite of these limits.</span>

<span class="sd">            - if forceYlim=None Limits will be defined by the limits of yData (Default)</span>
<span class="sd">                - if forceYlim=[yMin,yMax] then these limits will be used.</span>

<span class="sd">            .. note:: for logarithmic scale, the limits are always adjusted to complete the decade. Usually you don&#39;t need this for logarithmic scale</span>

<span class="sd">        :param drawAxis: Control flag of the axis method</span>

<span class="sd">               - True: draws axis normally</span>
<span class="sd">               - False: returns the limits and origin position without drawing the axis itself</span>

<span class="sd">        :param ExtraLengthAxisX: Extra length near the arrow pointer of X axis. Default 0.0</span>
<span class="sd">        :param ExtraLengthAxisY: Extra length near the arrow pointer of Y axis. Default 0.0</span>

<span class="sd">        :type ExtensionBaseObj: inkscapeMadeEasy object</span>
<span class="sd">        :type parent: inkscape element object</span>
<span class="sd">        :type xData: list</span>
<span class="sd">        :type yData: list</span>
<span class="sd">        :type position: list</span>
<span class="sd">        :type xLabel: string</span>
<span class="sd">        :type yLabel: string</span>
<span class="sd">        :type ylog10scale: bool</span>
<span class="sd">        :type xTicks: bool</span>
<span class="sd">        :type yTicks: bool</span>
<span class="sd">        :type xTickStep: float</span>
<span class="sd">        :type yTickStep: float</span>
<span class="sd">        :type xScale: float</span>
<span class="sd">        :type yScale: float</span>
<span class="sd">        :type xExtraText: string</span>
<span class="sd">        :type yExtraText: string</span>
<span class="sd">        :type xGrid: bool</span>
<span class="sd">        :type yGrid: bool</span>
<span class="sd">        :type generalAspectFactorAxis: float</span>
<span class="sd">        :type lineStylePlot: lineStyle object</span>
<span class="sd">        :type forceXlim: list</span>
<span class="sd">        :type forceYlim: list</span>
<span class="sd">        :type drawAxis: bool</span>
<span class="sd">        :type ExtraLengthAxisX: float</span>
<span class="sd">        :type ExtraLengthAxisY: float</span>

<span class="sd">        :returns: [GroupPlot, outputLimits, axisOrigin]</span>

<span class="sd">            - GroupPlot:  the plot object</span>
<span class="sd">            - outputLimits: a list with tuples:[(x_min,xPos_min),(x_max,xPos_max),(y_min,yPos_min),(y_max,yPos_max)]</span>

<span class="sd">                  - x_min, x_max, y_min, y_max:               The limits of the axis object</span>
<span class="sd">                  - xPos_min, xPos_max, yPos_min, yPos_max:   The positions of the limits of the axis object, considering the scaling and units</span>
<span class="sd">                  - axisOrigin [X0,Y0]:                      A list with the coordinates of the point where the axes cross.</span>
<span class="sd">        :rtype: list</span>

<span class="sd">        .. important:: If any of the axis are log10, then the method ignores any pairs of (x,y) data with invalid coordinates, that is, if xData and/or yData is less than or equal to 0.0 (they would result in complex log10... =P ). The method will create a text object alongside your plot warning this.</span>

<span class="sd">        .. note:: If any of the axis are linear, the method will ignore any value greater than 10.000 (in absolute value). This avoids plotting very large numbers. The method will create a text object alongside your plot warning this.</span>

<span class="sd">        **Example**</span>

<span class="sd">        &gt;&gt;&gt; oot_layer = self.document.getroot()     # retrieves the root layer of the document</span>
<span class="sd">        &gt;&gt;&gt; xData=[-1,-0.5,0,0.5,1.0,1.5,2]</span>
<span class="sd">        &gt;&gt;&gt; yData=[x*x for x in xData]    # computes y=x*x</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; # creates a line style with a dot marker for the stem plot</span>
<span class="sd">        &gt;&gt;&gt; myMarkerDot=inkDraw.marker.createDotMarker(self,&#39;DotMDiscreteTime&#39;,RenameMode=2,scale=0.3,</span>
<span class="sd">        &gt;&gt;&gt;                                            strokeColor=inkDraw.color.defined(&#39;black&#39;),fillColor=inkDraw.color.defined(&#39;red&#39;))</span>
<span class="sd">        &gt;&gt;&gt; lineStyleDiscrete = inkDraw.lineStyle.set(lineWidth=1.0, markerEnd=myMarkerDot)</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; inkPlot.plot.stem(self,root_layer,xData,yData,position=[0,0],</span>
<span class="sd">        &gt;&gt;&gt;                   xLabel=&#39;my $x$ data&#39;,yLabel=&#39;$y(x)$&#39;,ylog10scale=False,</span>
<span class="sd">        &gt;&gt;&gt;                   xTicks=True,yTicks=True,xTickStep=0.5,yTickStep=2.0,</span>
<span class="sd">        &gt;&gt;&gt;                   xScale=20,yScale=20,xExtraText=&#39;a&#39;,yExtraText=&#39;&#39;,</span>
<span class="sd">        &gt;&gt;&gt;                   xGrid=True,yGrid=True,generalAspectFactorAxis=1.0,lineStylePlot=lineStyleDiscrete,</span>
<span class="sd">        &gt;&gt;&gt;                   forceXlim=None,forceYlim=None,drawAxis=True)</span>

<span class="sd">        The image below present the plot above.</span>

<span class="sd">        .. image:: ../imagesDocs/plot_plotStemParameters_01.png</span>
<span class="sd">          :width: 400px</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">textSize</span> <span class="o">=</span> <span class="n">generalAspectFactorAxis</span> <span class="o">*</span> <span class="mf">0.25</span> <span class="o">*</span> <span class="nb">min</span><span class="p">(</span><span class="n">xScale</span><span class="p">,</span> <span class="n">yScale</span><span class="p">)</span>
        <span class="n">lineWidthAxis</span> <span class="o">=</span> <span class="n">generalAspectFactorAxis</span> <span class="o">*</span> <span class="nb">min</span><span class="p">(</span><span class="n">xScale</span><span class="p">,</span> <span class="n">yScale</span><span class="p">)</span> <span class="o">/</span> <span class="mf">35.0</span>

        <span class="n">yDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">xDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># remove invalid pairs of coordinates for linear plot (larger than +-10k )</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xData</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mf">1.0e4</span><span class="p">:</span>
                <span class="n">yDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">xDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">flagShowedError</span><span class="p">:</span>
                    <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;Error: The point (</span><span class="si">%f</span><span class="s1">,</span><span class="si">%f</span><span class="s1">)</span><span class="se">\n</span><span class="s1"> is too large. Ignoring it...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
                                       <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                    <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;       Please check your graph&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span>
                                       <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                    <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">yData</span> <span class="o">=</span> <span class="n">yDataTemp</span>
        <span class="n">xData</span> <span class="o">=</span> <span class="n">xDataTemp</span>

        <span class="n">yDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">xDataTemp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">ylog10scale</span><span class="p">:</span>  <span class="c1"># remove invalid pairs of coordinates for log plot (less than or equal to 0.0)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">yData</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">:</span>
                    <span class="n">yDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">xDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">flagShowedError</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span>
                                           <span class="s1">&#39;Error: The point (</span><span class="si">%f</span><span class="s1">,</span><span class="si">%f</span><span class="s1">)</span><span class="se">\n</span><span class="s1"> is invalid in logarithmic scale. Ignoring it...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
                                           <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;       Please check your graph&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span>
                                           <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># remove invalid pairs of coordinates for linear plot (larger than +-10k )</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">yData</span><span class="p">)):</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mf">1.0e4</span><span class="p">:</span>
                    <span class="n">yDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">xDataTemp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">flagShowedError</span><span class="p">:</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;Error: The point (</span><span class="si">%f</span><span class="s1">,</span><span class="si">%f</span><span class="s1">)</span><span class="se">\n</span><span class="s1"> is too large. Ignoring it...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
                                           <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">inkDraw</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="s1">&#39;       Please check your graph&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">textSize</span><span class="p">],</span> <span class="n">parent</span><span class="p">,</span>
                                           <span class="n">fontSize</span><span class="o">=</span><span class="n">textSize</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
                        <span class="n">flagShowedError</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">yData</span> <span class="o">=</span> <span class="n">yDataTemp</span>
        <span class="n">xData</span> <span class="o">=</span> <span class="n">xDataTemp</span>

        <span class="k">if</span> <span class="n">forceXlim</span><span class="p">:</span>
            <span class="n">Xlimits</span> <span class="o">=</span> <span class="n">forceXlim</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Xlimits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">xData</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">xData</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">forceYlim</span><span class="p">:</span>
            <span class="n">Ylimits</span> <span class="o">=</span> <span class="n">forceYlim</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Ylimits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">yData</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">yData</span><span class="p">)]</span>  <span class="c1"># min&lt;-&gt;max inverted  bc inkscape is upside down</span>

        <span class="k">if</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Ylimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">Ylimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Ylimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Xlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">Xlimits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">Xlimits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># draw axis</span>
        <span class="n">axisGroup</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s1">&#39;PlotData&#39;</span><span class="p">)</span>

        <span class="p">[</span><span class="n">axisObj</span><span class="p">,</span> <span class="n">limits</span><span class="p">,</span> <span class="n">origin</span><span class="p">]</span> <span class="o">=</span> <span class="n">axis</span><span class="o">.</span><span class="n">cartesian</span><span class="p">(</span><span class="n">ExtensionBaseObj</span><span class="p">,</span> <span class="n">axisGroup</span><span class="p">,</span> <span class="n">Xlimits</span><span class="p">,</span> <span class="n">Ylimits</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">xLabel</span><span class="o">=</span><span class="n">xLabel</span><span class="p">,</span> <span class="n">yLabel</span><span class="o">=</span><span class="n">yLabel</span><span class="p">,</span>
                                                   <span class="n">xlog10scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ylog10scale</span><span class="o">=</span><span class="n">ylog10scale</span><span class="p">,</span> <span class="n">xTicks</span><span class="o">=</span><span class="n">xTicks</span><span class="p">,</span> <span class="n">yTicks</span><span class="o">=</span><span class="n">yTicks</span><span class="p">,</span> <span class="n">xTickStep</span><span class="o">=</span><span class="n">xTickStep</span><span class="p">,</span>
                                                   <span class="n">yTickStep</span><span class="o">=</span><span class="n">yTickStep</span><span class="p">,</span> <span class="n">xScale</span><span class="o">=</span><span class="n">xScale</span><span class="p">,</span> <span class="n">yScale</span><span class="o">=</span><span class="n">yScale</span><span class="p">,</span> <span class="n">xAxisUnitFactor</span><span class="o">=</span><span class="n">xExtraText</span><span class="p">,</span>
                                                   <span class="n">yAxisUnitFactor</span><span class="o">=</span><span class="n">yExtraText</span><span class="p">,</span> <span class="n">xGrid</span><span class="o">=</span><span class="n">xGrid</span><span class="p">,</span> <span class="n">yGrid</span><span class="o">=</span><span class="n">yGrid</span><span class="p">,</span> <span class="n">forceTextSize</span><span class="o">=</span><span class="n">textSize</span><span class="p">,</span>
                                                   <span class="n">forceLineWidth</span><span class="o">=</span><span class="n">lineWidthAxis</span><span class="p">,</span> <span class="n">drawAxis</span><span class="o">=</span><span class="n">drawAxis</span><span class="p">,</span> <span class="n">ExtraLengthAxisX</span><span class="o">=</span><span class="n">ExtraLengthAxisX</span><span class="p">,</span>
                                                   <span class="n">ExtraLengthAxisY</span><span class="o">=</span><span class="n">ExtraLengthAxisY</span><span class="p">)</span>

        <span class="c1"># scales data and convert to logarithmic scale if needed. Also subtracts the origin point of the axis to move the plot to the correct position</span>
        <span class="n">xData</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="p">(</span><span class="n">xScale</span> <span class="o">/</span> <span class="n">xTickStep</span><span class="p">)</span> <span class="o">-</span> <span class="n">origin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xData</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">ylog10scale</span><span class="p">:</span>
            <span class="n">yData</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">yScale</span> <span class="o">-</span> <span class="n">origin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yData</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">yData</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="o">*</span> <span class="p">(</span><span class="n">yScale</span> <span class="o">/</span> <span class="n">yTickStep</span><span class="p">)</span> <span class="o">-</span> <span class="n">origin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yData</span><span class="p">]</span>  <span class="c1"># negative bc inkscape is upside down</span>

        <span class="n">stemGroup</span> <span class="o">=</span> <span class="n">ExtensionBaseObj</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span><span class="n">axisGroup</span><span class="p">,</span> <span class="s1">&#39;StemGroup&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xData</span><span class="p">)):</span>
            <span class="n">inkDraw</span><span class="o">.</span><span class="n">line</span><span class="o">.</span><span class="n">relCoords</span><span class="p">(</span><span class="n">stemGroup</span><span class="p">,</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="n">yData</span><span class="p">[</span><span class="n">i</span><span class="p">]]],</span> <span class="p">[</span><span class="n">xData</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span> <span class="o">+</span> <span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">lineStyle</span><span class="o">=</span><span class="n">lineStylePlot</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">axisGroup</span><span class="p">,</span> <span class="n">limits</span><span class="p">,</span> <span class="n">origin</span><span class="p">]</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, fsmMLK

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>